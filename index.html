<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />













<meta name="description" content="哎亚亚的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="哎亚亚的小墙">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="哎亚亚的小墙">
<meta property="og:description" content="哎亚亚的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="哎亚亚">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/"/>





  <title>哎亚亚的小墙</title>
  














<meta name="generator" content="Hexo 6.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">哎亚亚的小墙</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            Commonweal 404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/AntV%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/AntV%EF%BC%89/" itemprop="url">加餐 - 数据可视化解决方案（ECharts + AntV）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:49:01+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  12.7k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  58
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="第十四章：加餐-数据可视化解决方案（ECharts-AntV）"><a href="#第十四章：加餐-数据可视化解决方案（ECharts-AntV）" class="headerlink" title="第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）"></a>第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）</h1><h2 id="01：前言"><a href="#01：前言" class="headerlink" title="01：前言"></a>01：前言</h2><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p><code>Hello</code>，慕课网的小伙伴们大家好。</p>
<p>没错，我们又要给 <strong>后台前端综合解决方案</strong> 课程进行 “加餐” 了。</p>
<p>之前的时候，在咱们的 <code>QQ 群</code> 中，有同学说：</p>
<blockquote>
<p>老师能不能为课程增加一个 <strong>数据可视化</strong> 的功能呢？</p>
<p>我们在实际工作中会经常的用到。</p>
</blockquote>
<p><strong>大家会用到的，就是我们需要进行实现的！</strong></p>
<p>那么就 <strong>开搞！</strong></p>
<p>由此，才有了咱们这次的 <strong>第十四章 - 数据可视化解决方案（ECharts + AntV）</strong> </p>
<h3 id="更新内容"><a href="#更新内容" class="headerlink" title="更新内容"></a>更新内容</h3><p>大家可以点击 <a target="_blank" rel="noopener" href="http://192.168.18.55:8080/#/chart">这里</a> 来查看最终的实现效果。</p>
<p>对于这次新增的内容，将会涉及到两个实际开发中最常用到的数据可视化类库：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">ECharts</a></li>
<li><a target="_blank" rel="noopener" href="https://antv.vision/zh/">AntV</a></li>
</ol>
<p>关于这两个库我们会在后面进行详细的讲解，这里就不去深入了。</p>
<p>利用这两个库我们将会实现 6 块图表：</p>
<ol>
<li>累计收益：柱状图 + 曲线图</li>
<li>日金额分析：横向柱状图（正负）</li>
<li>大区营销图示：饼图</li>
<li>关键云词：文档云图</li>
<li>营收业绩图示：百度地图 + <code>echarts</code> 的散点图</li>
<li>大区营销数据分析：表格数据分析图</li>
</ol>
<p>额外配合 <strong>其他类库</strong> 或 <strong><code>element-plus</code> 组件</strong> 来实现 <strong>各种数据联动</strong> 的效果。</p>
<p>同时这些功能同样继承咱们后台综合解决方案的各种特性功能，比如：<strong>国际化处理</strong></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>那么到这里，咱们新增的这些功能相信都已经给大家描述清楚了，那么大家还等什么呢？快点进入 <strong>数据可视化</strong> 的世界吧！</p>
<h2 id="02：明确需要导入的资源"><a href="#02：明确需要导入的资源" class="headerlink" title="02：明确需要导入的资源"></a>02：明确需要导入的资源</h2><p>因为咱们新增的功能涉及到了新的国际化文档和图片，所以我们需要在开发之前，先导入对应的资源。</p>
<p>资源主要有三个：</p>
<ol>
<li><code>lang</code> 文件夹：数据可视化部分的国际化文档</li>
<li><code>assets</code> 文件夹：数据可视化部分的图片资源</li>
<li><code>svg</code> 文件夹：数据可视化部分的 <code>svg</code></li>
</ol>
<p>这两个资源已经同步到 <a target="_blank" rel="noopener" href="https://git.imooc.com/coding-542/resources">课程资源</a> 中，大家可以下载之后覆盖到 <strong>原项目</strong> 之中</p>
<h2 id="03：数据可视化大解析"><a href="#03：数据可视化大解析" class="headerlink" title="03：数据可视化大解析"></a>03：数据可视化大解析</h2><p>这一小节，我们来聊三个大家可能会比较关心的问题，也是实际开发中常见的一些疑惑。</p>
<ol>
<li>数据可视化场景</li>
<li>数据可视化常见解决方案</li>
<li>不同场景下解决方案是否具备通用性</li>
</ol>
<h3 id="数据可视化场景"><a href="#数据可视化场景" class="headerlink" title="数据可视化场景"></a>数据可视化场景</h3><p>根据业务来进行划分，在我们实际工作中，常见的可视化场景主要分为两种：</p>
<ol>
<li><p>大屏可视化：通常以一个单独的项目进行呈现，主要的目的是：<strong>把大量的数据以图表的形式在大屏中进行展示。</strong><br><img src="https://www.fanruan.com/images/finemax2-bolan.jpg"></p>
<p><img src="https://www.fanruan.com/images/finemax2-shishi.jpg"></p>
<p><img src="https://www.fanruan.com/images/finemax2-huiyi.jpg"></p>
</li>
<li><p>数据可视化：不以单独的项目进行呈现，通常被集成在后台系统之中。主要的目的是：<strong>把大量的数据以图表的形式在小屏（通常为普通电脑屏幕）中进行展示。</strong><br>![image-20220617152643275](&#x2F;Users&#x2F;icetwo&#x2F;Desktop&#x2F;project&#x2F;源码&#x2F;nodes&#x2F;第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets&#x2F;image-20220617152643275.png)</p>
</li>
</ol>
<h3 id="常见解决方案"><a href="#常见解决方案" class="headerlink" title="常见解决方案"></a>常见解决方案</h3><p> 由刚才的介绍可知，无论哪一种应用场景，数据可视化其实核心就是：<strong>通过图表展示数据</strong></p>
<p>那么明确了这个核心之后，我们其实就知道，所谓 <strong>数据可视化解决方案</strong> 指的其实就是：<strong>通过图表展示数据的解决方案</strong></p>
<p>所以对应的核心就是：<strong>如何构建图表</strong> 。</p>
<p>目前常见的数据可视化图表，主要有三个：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">Apache ECharts</a>：由 <a target="_blank" rel="noopener" href="https://zh.m.wikipedia.org/wiki/Apache%E8%BD%AF%E4%BB%B6%E5%9F%BA%E9%87%91%E4%BC%9A">Apache软件基金会</a> 提供，前身是百度 <code>Echarts</code>。提供了 <code>PC端</code> 和 移动端 的各种图表处理，应该也是大家最为熟悉的一个可视化图表库。</li>
<li><a target="_blank" rel="noopener" href="https://antv.vision/zh">AntV</a>：由蚂蚁集团数据可视化团队发布，内部进行了库的细分：<ol>
<li><a target="_blank" rel="noopener" href="https://g2.antv.vision/zh/examples/gallery">G2</a>：类似于 <code>Echarts</code> ，提供了各种常见的图表</li>
<li><a target="_blank" rel="noopener" href="https://s2.antv.vision/zh/examples/">S2</a>：表格数据图形化，课程中的 <strong>大区营销数据分析</strong> ，就是基于此实现</li>
<li><a target="_blank" rel="noopener" href="https://g6.antv.vision/zh/examples/gallery">G6</a>：数据关系可视化。比如脑图实现</li>
<li><a target="_blank" rel="noopener" href="https://x6.antv.vision/zh/examples/gallery">X6</a>：图形编辑引擎。比如流程图、<code>ER</code> 图构建</li>
<li><a target="_blank" rel="noopener" href="https://l7.antv.vision/zh/examples/gallery">L7</a>：地理空间数据可视化。与地图相关</li>
<li><a target="_blank" rel="noopener" href="https://f2.antv.vision/zh/examples/gallery">F2</a>：移动端数据可视化。可以理解为 <code>G2</code> 的移动端版本</li>
<li><a target="_blank" rel="noopener" href="https://ava.antv.vision/zh/examples/gallery">AVA</a>：可视化生成框架。可以理解为可视化的低代码框架</li>
</ol>
</li>
<li><a target="_blank" rel="noopener" href="https://www.highcharts.com/">highcharts</a>：可以理解为另一个团队开发的 <code>Echarts</code> ，应用层中与 <code>Echarts</code> 相比，并无明显特点。</li>
</ol>
<p>由此可知，对于以上三个框架而言，<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">Apache ECharts</a> 和 <a target="_blank" rel="noopener" href="https://antv.vision/zh">AntV</a> 是我们在真实企业开发中，最最常使用的数据可视化框架，所以我们的课程也将主要围绕这两个框架来完成。</p>
<h3 id="不同场景下解决方案是否具备通用性"><a href="#不同场景下解决方案是否具备通用性" class="headerlink" title="不同场景下解决方案是否具备通用性"></a>不同场景下解决方案是否具备通用性</h3><p>那么我们说到现在，可能很多同学就已经感觉到了，所谓的数据可视化，其实是有很多细层的划分的。无论是从 <strong>应用场景中</strong> 还是从 <strong>解决方案中</strong>。</p>
<p>那么可能有很多同学就说了，那么我如果想要成为数据可视化开发专家，是需要把这些场景和技术全部都学习一遍吗？</p>
<p><strong>当然不是！！</strong></p>
<p>我们首先要明确，技术向来都是有通用性的，解决方案同样如此。</p>
<p>大家还记不记得我们刚才说过：</p>
<blockquote>
<p>xxxx，数据可视化其实核心就是：<strong>通过图表展示数据</strong></p>
<p>xxxx，所谓 <strong>数据可视化解决方案</strong> 指的其实就是：<strong>通过图表展示数据的解决方案</strong></p>
<p>所以对应的核心就是：<strong>如何构建图表</strong> 。</p>
</blockquote>
<p>无论是 <strong>大屏可视化</strong> 也好，<strong>数据可视化</strong> 也好，<code>ECharts</code> 也好，<code>AntV</code> 也好。本质上都绕不开这样的一个核心理念。</p>
<p>所以我们只需要掌握：<strong>如何根据数据，利用框架来绘制图表</strong> 这样的一个核心解决方案即可。在不同的业务场景中，我们只需要处理对应的不同业务就可以了。</p>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>那么这一小节，我们主要描述了三块内容，希望可以通过这三块内容来为大家解决一些数据可视化层面的疑惑，无论是技术上的，还是业务上的。</p>
<h2 id="04：构建基础模块结构"><a href="#04：构建基础模块结构" class="headerlink" title="04：构建基础模块结构"></a>04：构建基础模块结构</h2><p>那么从这一小节开始，我们就来处理对应的数据可视化代码部分。</p>
<p>先立个目标，在本小节中我们将会处理两件事情：</p>
<ol>
<li>在现有的路由表之中，新增一个 <strong>公开路由 <code>chart</code></strong> ，表示咱们的数据可视化模块</li>
<li>处理 <code>chart</code> 组件的基本结构，划分出各个图表的区域</li>
</ol>
<h3 id="新增-chart"><a href="#新增-chart" class="headerlink" title="新增 chart"></a>新增 chart</h3><ol>
<li><p>新建 <code>src/views/chart/index.vue</code> 组件</p>
</li>
<li><p>在 <code>src/router/index.js</code> 中新增公开路由表：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/chart&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;chart&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span></span><br><span class="line">          <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;chart&quot; */</span> <span class="string">&#x27;@/views/chart/index&#x27;</span>),</span><br><span class="line">        <span class="attr">meta</span>: &#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;chart&#x27;</span>,</span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;chart&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="处理基本模块"><a href="#处理基本模块" class="headerlink" title="处理基本模块"></a>处理基本模块</h3><p>根据以下结构，分别创建对应的图表模块：</p>
<img src="/Users/icetwo/Desktop/project/源码/nodes/第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets/image-20220617170835377.png" alt="image-20220617170835377" style="zoom: 33%;" />

<ol>
<li><p>对应模块分别为：</p>
<ol>
<li>第一行：<ol>
<li>累计收益趋势图（<code>286px</code>）：<code>src/views/chart/components/trend/index.vue</code></li>
</ol>
</li>
<li>第二行：<ol>
<li>日金额分析图（<code>443px</code>）：<code>src/views/chart/components/horizontal-bar/index.vue</code></li>
<li>日历图（<code>443px</code>）：<code>src/views/chart/components/calendar/index.vue</code></li>
</ol>
</li>
<li>第三行：<ol>
<li>饼图（<code>240px</code>）：<code>src/views/chart/components/pie/index.vue</code></li>
<li>文档云图（<code>240px</code>）：<code>src/views/chart/components/word-cloud/index.vue</code></li>
<li>地图可视化（<code>500px</code>）：<code>src/views/chart/components/b-map/index.vue</code></li>
</ol>
</li>
<li>第四行：<ol>
<li><code>S2</code> 表格数据图示（<code>804px</code>）：<code>src/views/chart/components/table-sheet/index.vue</code></li>
</ol>
</li>
</ol>
</li>
<li><p>完成每个模块的基本初始化：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;模块名字&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  height: 对应模块高度;</span><br><span class="line">  background-color: #bcbfc3;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/index.vue</code> 中导入各个模块，并构建样式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;chart-container&quot;&gt;</span><br><span class="line">    &lt;!-- 累计收益趋势图 --&gt;</span><br><span class="line">    &lt;trend-vue&gt;&lt;/trend-vue&gt;</span><br><span class="line">    &lt;!-- 第二行 --&gt;</span><br><span class="line">    &lt;el-row class=&quot;mt-20&quot; :gutter=&quot;20&quot;&gt;</span><br><span class="line">      &lt;el-col :span=&quot;16&quot;&gt;</span><br><span class="line">        &lt;!-- 日金额分析图 --&gt;</span><br><span class="line">        &lt;horizontal-bar-vue&gt;&lt;/horizontal-bar-vue&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">      &lt;el-col :span=&quot;8&quot;&gt;</span><br><span class="line">        &lt;!-- 日历图 --&gt;</span><br><span class="line">        &lt;calendar-vue&gt;&lt;/calendar-vue&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">    &lt;!-- 第三行 --&gt;</span><br><span class="line">    &lt;el-row class=&quot;mt-20&quot; :gutter=&quot;20&quot;&gt;</span><br><span class="line">      &lt;el-col :span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;!-- 左侧内容 --&gt;</span><br><span class="line">        &lt;div class=&quot;chart-map-left&quot;&gt;</span><br><span class="line">          &lt;!-- 饼图 --&gt;</span><br><span class="line">          &lt;pie-vue&gt;&lt;/pie-vue&gt;</span><br><span class="line">          &lt;!-- 文档云图 --&gt;</span><br><span class="line">          &lt;word-cloud-vue class=&quot;mt-20&quot;&gt;&lt;/word-cloud-vue&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">      &lt;el-col :span=&quot;18&quot;&gt;</span><br><span class="line">        &lt;!-- 地图可视化 --&gt;</span><br><span class="line">        &lt;b-map-vue&gt;&lt;/b-map-vue&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- S2 表格数据图示 --&gt;</span><br><span class="line">    &lt;table-sheet-vue class=&quot;mt-20&quot;&gt;&lt;/table-sheet-vue&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import trendVue from &#x27;./components/trend&#x27;</span><br><span class="line">import horizontalBarVue from &#x27;./components/horizontal-bar&#x27;</span><br><span class="line">import calendarVue from &#x27;./components/calendar&#x27;</span><br><span class="line">import pieVue from &#x27;./components/pie&#x27;</span><br><span class="line">import wordCloudVue from &#x27;./components/word-cloud&#x27;</span><br><span class="line">import bMapVue from &#x27;./components/b-map&#x27;</span><br><span class="line">import tableSheetVue from &#x27;./components/table-sheet&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.mt-20 &#123;</span><br><span class="line">  margin-top: 20px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="05：累计收益-模块划分"><a href="#05：累计收益-模块划分" class="headerlink" title="05：累计收益-模块划分"></a>05：累计收益-模块划分</h2><p>在 <code>src/views/chart/components/trend/index.vue</code> 中，构建出左右两个模块，分别用来渲染：</p>
<ol>
<li>数据模块</li>
<li>图表模块</li>
</ol>
<p>具体代码如下：</p>
<ol>
<li><p>创建 <code>src/views/chart/components/trend/trend-chart.vue</code></p>
</li>
<li><p>创建 <code>src/views/chart/components/trend/trend-data.vue</code></p>
</li>
<li><p>在 <code>src/views/chart/components/trend/index.vue</code> 构建基本结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;el-row :gutter=&quot;32&quot;&gt;</span><br><span class="line">      &lt;el-col :span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;trend-data-vue :data=&quot;chartTrendData&quot; /&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">      &lt;el-col :span=&quot;18&quot;&gt;</span><br><span class="line">        &lt;trend-chart-vue :data=&quot;chartTrendData&quot; /&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import trendDataVue from &#x27;./trend-data.vue&#x27;</span><br><span class="line">import trendChartVue from &#x27;./trend-chart.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  height: 286px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，模块划分完成</p>
<h2 id="06：累计收益-数据模块渲染"><a href="#06：累计收益-数据模块渲染" class="headerlink" title="06：累计收益-数据模块渲染"></a>06：累计收益-数据模块渲染</h2><p>结构划分完成之后，接下来我们渲染 <code>trend-data</code> 数据模块，该模块的基础渲染并不复杂，获取数据直接渲染即可。</p>
<ol>
<li><p>创建 <code>src/api/chart.js</code> 模块：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取累计收益明细</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getChartTrend</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/chart/trend&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>因为该数据将会在 <code>chart</code> 和 <code>data</code> 中都被使用，所以我们在 <code>src/views/chart/components/trend/index.vue</code> 获取该数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">...</span><br><span class="line">import &#123; getChartTrend &#125; from &#x27;@/api/chart&#x27;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">const chartTrendData = ref(&#123;&#125;)</span><br><span class="line">const getChartTrendData = async () =&gt; &#123;</span><br><span class="line">  const res = await getChartTrend()</span><br><span class="line">  chartTrendData.value = res</span><br><span class="line">&#125;</span><br><span class="line">getChartTrendData()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>template</code> 中控制 <strong>获取到数据之后进行渲染</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">:gutter</span>=<span class="string">&quot;32&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;chartTrendData.allAmount&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>把数据传递给 <code>trend-data-vue</code>：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">trend-data-vue</span> <span class="attr">:data</span>=<span class="string">&quot;chartTrendData&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>trend-data-vue</code> 中接收数据并进行渲染：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;trend-data-container&quot;&gt;</span><br><span class="line">    &lt;!-- 累计盈利 --&gt;</span><br><span class="line">    &lt;div class=&quot;title&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;title-name&quot;&gt;&#123;&#123; $t(&#x27;msg.chart.trendDataTitle&#x27;) &#125;&#125;&lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;title-amount&quot;&gt;</span><br><span class="line">        &amp;yen;</span><br><span class="line">        &lt;span&gt;&#123;&#123; data.allAmount &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 今日新增 --&gt;</span><br><span class="line">    &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;item-name item-name-border-1&quot;&gt;</span><br><span class="line">        &#123;&#123; $t(&#x27;msg.chart.trendDataTadayAdded&#x27;) &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;item-amount&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;item-amount-number&quot;&gt;&#123;&#123; data.tadayAdded &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &#123;&#123; $t(&#x27;msg.chart.unit&#x27;) &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- 今日支出 --&gt;</span><br><span class="line">    &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;item-name item-name-border-2&quot;&gt;</span><br><span class="line">        &#123;&#123; $t(&#x27;msg.chart.trendDataTadayExpend&#x27;) &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;item-amount&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;item-amount-number&quot;&gt;&#123;&#123; data.tadaySub &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &#123;&#123; $t(&#x27;msg.chart.unit&#x27;) &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- 今日结余 --&gt;</span><br><span class="line">    &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;item-name item-name-border-3&quot;&gt;</span><br><span class="line">        &#123;&#123; $t(&#x27;msg.chart.trendDataTadayBalance&#x27;) &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;item-amount&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;item-amount-number&quot;&gt;&#123;&#123; data.tadayAmount &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &#123;&#123; $t(&#x27;msg.chart.unit&#x27;) &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; defineProps &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">defineProps(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    required: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.trend-data-container &#123;</span><br><span class="line">  .title &#123;</span><br><span class="line">    padding: 12px 20px;</span><br><span class="line">    background: linear-gradient(to right, #0ea5e9, #6366f1);</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">    color: white;</span><br><span class="line">    .title-name &#123;</span><br><span class="line">      font-size: 12px;</span><br><span class="line">      font-weight: bold;</span><br><span class="line">    &#125;</span><br><span class="line">    .title-amount &#123;</span><br><span class="line">      font-size: 24px;</span><br><span class="line">      margin-top: 4px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .item &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">    align-items: center;</span><br><span class="line">    border-bottom: 1px solid #c9c9c9;</span><br><span class="line">    padding: 16px 0;</span><br><span class="line">    color: #666;</span><br><span class="line">    .item-name &#123;</span><br><span class="line">      font-size: 12px;</span><br><span class="line">      padding: 4px 0 4px 8px;</span><br><span class="line">    &#125;</span><br><span class="line">    .item-amount &#123;</span><br><span class="line">      font-size: 12px;</span><br><span class="line">      .item-amount-number &#123;</span><br><span class="line">        color: #333;</span><br><span class="line">        font-weight: bold;</span><br><span class="line">        font-size: 20px;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-name-border-1 &#123;</span><br><span class="line">      border-left: 6px solid #409eff;</span><br><span class="line">    &#125;</span><br><span class="line">    .item-name-border-2 &#123;</span><br><span class="line">      border-left: 6px solid #e6a23c;</span><br><span class="line">    &#125;</span><br><span class="line">    .item-name-border-3 &#123;</span><br><span class="line">      border-left: 6px solid #67c23a;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，基础模块渲染完成</p>
<h2 id="07：countup-让你的数据动起来"><a href="#07：countup-让你的数据动起来" class="headerlink" title="07：countup - 让你的数据动起来"></a>07：countup - 让你的数据动起来</h2><p>数字直接展示，在数据可视化场景中未免不太好看。</p>
<p>所以我们期望让数字以动画的形式进行展示。</p>
<p>如果想要达到这样的目的，则需要借助：<a target="_blank" rel="noopener" href="https://github.com/inorganik/countUp.js">countUp</a> 进行实现。</p>
<ol>
<li><p>安装 <a target="_blank" rel="noopener" href="https://github.com/inorganik/countUp.js">countUp</a>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save countup.js@2.2.0</span><br></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/inorganik/countUp.js">countUp</a> 的使用非常简单，我们只需要 <code>new CountUp(target, data, options)</code> ，得到实例触发 <code>start</code> 方法即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; CountUp &#125; from &#x27;countup.js&#x27;</span><br><span class="line">import &#123; onMounted, ref, defineProps &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">// 本月累计收益（万元）</span><br><span class="line">const titleAmountTarget = ref(null)</span><br><span class="line">// 今日新增收益</span><br><span class="line">const tadayAddedTarget = ref(null)</span><br><span class="line">// 今日新增支出</span><br><span class="line">const tadayExpendTarget = ref(null)</span><br><span class="line">// 今日结余</span><br><span class="line">const tadayBalanceTarget = ref(null)</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  const options = &#123;</span><br><span class="line">    // 小数点位</span><br><span class="line">    decimalPlaces: 2,</span><br><span class="line">    // 持续时间</span><br><span class="line">    duration: 1.5</span><br><span class="line">  &#125;</span><br><span class="line">  // 累计回款</span><br><span class="line">  new CountUp(titleAmountTarget.value, props.data.allAmount, options).start()</span><br><span class="line">  // 今日新增</span><br><span class="line">  new CountUp(tadayAddedTarget.value, props.data.tadayAdded, options).start()</span><br><span class="line">  // 今日支出</span><br><span class="line">  new CountUp(tadayExpendTarget.value, props.data.tadaySub, options).start()</span><br><span class="line">  // 今日结余</span><br><span class="line">  new CountUp(tadayBalanceTarget.value, props.data.tadayAmount, options).start()</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>​		不要忘记在 <code>template</code> 中定义对应的 <code>ref</code>！</p>
<h2 id="08：ECharts-使用指南与学习方案"><a href="#08：ECharts-使用指南与学习方案" class="headerlink" title="08：ECharts 使用指南与学习方案"></a>08：ECharts 使用指南与学习方案</h2><p>处理好数据展示之后，接下来我们来处理右侧的图表，该图表我们将基于 <code>ECharts</code> 来完成，所以 <strong>想要处理图表，首先需要先学习 <code>ECharts</code> ！</strong></p>
<p>安装 <code>ECharts</code> ，我们这里使用 <code>5.3.2</code> 的版本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save echarts@5.3.2</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">点击进入 echarts 官网</a></p>
<p>参考 <a target="_blank" rel="noopener" href="https://echarts.apache.org/handbook/zh/get-started/">基础入门</a> 完成基本的柱状图渲染。</p>
<p>由基础案例可以，想要利用 <code>ECharts</code> 完成基本的图表渲染，共分为 5 步：</p>
<ol>
<li><p>创建 <code>DOM</code> 容器，并指定大小（指定 <code>ref</code> 方便获取）</p>
</li>
<li><p>导入 <code>ECharts</code> 模块：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&#x27;echarts&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>利用 <code>echarts.init(target)</code> 方法，获取 <code>mChart</code> 实例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> target = <span class="title function_">ref</span>(<span class="literal">null</span>)</span><br><span class="line"><span class="keyword">let</span> mChart</span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  mChart = echarts.<span class="title function_">init</span>(target.<span class="property">value</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>构建 <code>options</code> 配置对象（ <strong><code>echarts</code> 渲染的核心，不同的 <code>options</code> 意味着不同的图表体现</strong> ）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  <span class="comment">// 图表标题配置  </span></span><br><span class="line">  <span class="attr">title</span>: &#123;</span><br><span class="line">    <span class="comment">// 标题文本   </span></span><br><span class="line">    <span class="attr">text</span>: <span class="string">&#x27;ECharts 入门示例&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 图例配置</span></span><br><span class="line">  <span class="attr">legend</span>: &#123;</span><br><span class="line">    <span class="comment">// 图例数据</span></span><br><span class="line">    <span class="attr">data</span>: [<span class="string">&#x27;销量&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// X 轴配置</span></span><br><span class="line">  <span class="attr">xAxis</span>: &#123;</span><br><span class="line">    <span class="comment">// 数据</span></span><br><span class="line">    <span class="attr">data</span>: [<span class="string">&#x27;衬衫&#x27;</span>, <span class="string">&#x27;羊毛衫&#x27;</span>, <span class="string">&#x27;雪纺衫&#x27;</span>, <span class="string">&#x27;裤子&#x27;</span>, <span class="string">&#x27;高跟鞋&#x27;</span>, <span class="string">&#x27;袜子&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Y 轴配置</span></span><br><span class="line">  <span class="attr">yAxis</span>: [&#123;&#125;],</span><br><span class="line">  <span class="comment">// 图表类型（可以指定多个）</span></span><br><span class="line">  <span class="attr">series</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// 图表名字，对应 legend.data[0]</span></span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">      <span class="comment">// 图表的类型</span></span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">      <span class="comment">// 图表的数据</span></span><br><span class="line">      <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后利用 <code>mChart.setOption</code> 方法配置 <code>options</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mChart.setOption(options)</span><br></pre></td></tr></table></figure>
</li>
<li><p>最终完整代码为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;trend-chart-container&quot; ref=&quot;target&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import * as echarts from &#x27;echarts&#x27;</span><br><span class="line">import &#123; ref, onMounted &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">const target = ref(null)</span><br><span class="line">let mChart</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  mChart = echarts.init(target.value)</span><br><span class="line">  renderChart()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 图表渲染方法</span><br><span class="line"> */</span><br><span class="line">const renderChart = () =&gt; &#123;</span><br><span class="line">  const options = &#123;</span><br><span class="line">    // 图表标题配置</span><br><span class="line">    title: &#123;</span><br><span class="line">      // 标题文本</span><br><span class="line">      text: &#x27;ECharts 入门示例&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    // 图例配置</span><br><span class="line">    legend: &#123;</span><br><span class="line">      // 图例数据</span><br><span class="line">      data: [&#x27;销量&#x27;]</span><br><span class="line">    &#125;,</span><br><span class="line">    // X 轴配置</span><br><span class="line">    xAxis: &#123;</span><br><span class="line">      // 数据</span><br><span class="line">      data: [&#x27;衬衫&#x27;, &#x27;羊毛衫&#x27;, &#x27;雪纺衫&#x27;, &#x27;裤子&#x27;, &#x27;高跟鞋&#x27;, &#x27;袜子&#x27;]</span><br><span class="line">    &#125;,</span><br><span class="line">    // Y 轴配置</span><br><span class="line">    yAxis: [&#123;&#125;],</span><br><span class="line">    // 图表类型（可以指定多个）</span><br><span class="line">    series: [</span><br><span class="line">      &#123;</span><br><span class="line">        // 图表名字，对应 legend.data[0]</span><br><span class="line">        name: &#x27;销量&#x27;,</span><br><span class="line">        // 图表的类型</span><br><span class="line">        type: &#x27;bar&#x27;,</span><br><span class="line">        // 图表的数据</span><br><span class="line">        data: [5, 20, 36, 10, 10, 20]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">  mChart.setOption(options)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.trend-chart-container &#123;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>通过以上代码我们可知：</p>
<ol>
<li>对于 <code>ECharts</code> 而言，开发流程几乎固定（5 步）</li>
<li>渲染图表的关键是 <code>options</code> 配置对象</li>
<li>配置对象可通过 <a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#title">配置项手册</a> 进行查看</li>
</ol>
<p>最后，想要学习 <code>ECharts</code> 怎么办？</p>
<p>答：需要经常 <strong>参考对照 <a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#title">配置项手册</a></strong> ！</p>
<h2 id="09：累计收益-柱状图与曲线图的混合渲染"><a href="#09：累计收益-柱状图与曲线图的混合渲染" class="headerlink" title="09：累计收益-柱状图与曲线图的混合渲染"></a>09：累计收益-柱状图与曲线图的混合渲染</h2><p>接下来我们就通过数据来渲染 <strong>累计收益图表</strong></p>
<ol>
<li><p>传递数据到 <code>src/views/chart/components/trend/trend-chart.vue</code> 中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> props = <span class="title function_">defineProps</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="title class_">Object</span>,</span><br><span class="line">    <span class="attr">required</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/trend/index.vue</code> 中完成传递：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">trend-chart-vue</span> <span class="attr">:data</span>=<span class="string">&quot;chartTrendData&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>根据数据构建全新的 <code>options</code> 配置对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">    <span class="comment">// 鼠标移入之后的提示框配置</span></span><br><span class="line">    <span class="attr">tooltip</span>: &#123;</span><br><span class="line">      <span class="comment">// 鼠标移入到坐标轴时，触发提示框</span></span><br><span class="line">      <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span>,</span><br><span class="line">      <span class="comment">// 移入坐标轴时，提示框的配置项</span></span><br><span class="line">      <span class="attr">axisPointer</span>: &#123;</span><br><span class="line">        <span class="comment">// 显示十字准星指示器</span></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;cross&#x27;</span>,</span><br><span class="line">        <span class="comment">// 指示器样式</span></span><br><span class="line">        <span class="attr">crossStyle</span>: &#123;</span><br><span class="line">          <span class="comment">// 色值</span></span><br><span class="line">          <span class="attr">color</span>: <span class="string">&#x27;#999&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 图例配置</span></span><br><span class="line">    <span class="attr">legend</span>: &#123;</span><br><span class="line">      <span class="comment">// 图例数据</span></span><br><span class="line">      <span class="attr">data</span>: [<span class="string">&#x27;月累计收益&#x27;</span>, <span class="string">&#x27;日收益曲线&#x27;</span>],</span><br><span class="line">      <span class="comment">// 图例位置</span></span><br><span class="line">      <span class="attr">right</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// echarts 网格绘制的位置，对应 上、右、下、左</span></span><br><span class="line">    <span class="attr">grid</span>: &#123;</span><br><span class="line">      <span class="attr">top</span>: <span class="number">20</span>,</span><br><span class="line">      <span class="attr">right</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">bottom</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">left</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="comment">// 计算边距时，包含标签</span></span><br><span class="line">      <span class="attr">containLabel</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// X 轴配置</span></span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">      <span class="comment">// 坐标轴类型，category：类目轴</span></span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span><br><span class="line">      <span class="comment">// 坐标轴数据</span></span><br><span class="line">      <span class="attr">data</span>: props.<span class="property">data</span>.<span class="property">monthAmountList</span>.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">time</span>),</span><br><span class="line">      <span class="comment">// 刻度尺配置</span></span><br><span class="line">      <span class="attr">axisTick</span>: &#123;</span><br><span class="line">        <span class="comment">// 不显示坐标轴刻度</span></span><br><span class="line">        <span class="attr">show</span>: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// y 轴配置</span></span><br><span class="line">    <span class="attr">yAxis</span>: &#123;</span><br><span class="line">      <span class="comment">// Y 轴类型，value：数值轴</span></span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">      <span class="comment">// 最小值</span></span><br><span class="line">      <span class="attr">min</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="comment">// 最大值</span></span><br><span class="line">      <span class="attr">max</span>: <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="comment">// 取整</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">parseInt</span>(value.<span class="property">max</span> * <span class="number">1.2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// 刻度上展示的文字</span></span><br><span class="line">      <span class="attr">axisLabel</span>: &#123;</span><br><span class="line">        <span class="attr">formatter</span>: <span class="string">&#x27;&#123;value&#125; 万元&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 图表类型</span></span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">      <span class="comment">// 第一个图表</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 图表名字，对应 legend.data[0]</span></span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;月累计收益&#x27;</span>,</span><br><span class="line">        <span class="comment">// 图表类型</span></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">        <span class="comment">// 柱的宽度</span></span><br><span class="line">        <span class="attr">barWidth</span>: <span class="number">20</span>,</span><br><span class="line">        <span class="comment">// 提示框展示配置</span></span><br><span class="line">        <span class="attr">tooltip</span>: &#123;</span><br><span class="line">          <span class="comment">// 提示框展示的内容</span></span><br><span class="line">          <span class="attr">valueFormatter</span>: <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> value + <span class="string">&#x27;万元&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 数据源</span></span><br><span class="line">        <span class="attr">data</span>: props.<span class="property">data</span>.<span class="property">monthAmountList</span>.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">amount</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// 第二个图表</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 图表名字，对应 legend.data[1]</span></span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;日收益曲线&#x27;</span>,</span><br><span class="line">        <span class="comment">// 图表类型</span></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">        <span class="comment">// 颜色</span></span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;#6EC6D0&#x27;</span>,</span><br><span class="line">        <span class="comment">// 平滑</span></span><br><span class="line">        <span class="attr">smooth</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// 提示框展示配置</span></span><br><span class="line">        <span class="attr">tooltip</span>: &#123;</span><br><span class="line">          <span class="comment">// 提示框展示的内容</span></span><br><span class="line">          <span class="attr">valueFormatter</span>: <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> value + <span class="string">&#x27;万元&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 数据源</span></span><br><span class="line">        <span class="attr">data</span>: props.<span class="property">data</span>.<span class="property">dailyCurve</span>.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">amount</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>那么至此，混合图表渲染完成。</p>
</li>
</ol>
<h2 id="10：累计收益-混合图表的国际化处理"><a href="#10：累计收益-混合图表的国际化处理" class="headerlink" title="10：累计收益-混合图表的国际化处理"></a>10：累计收益-混合图表的国际化处理</h2><p>最后对于累计收益模块，我们需要处理 <strong>混合图表的国际化展示</strong>。</p>
<p>我们知道，想要国际化的处理其实被分为两种情况：</p>
<ol>
<li>在 <code>template</code> 中，利用 <code>$t</code> 方法处理国际化。这种情况下，当我们切换 <code>locale</code> 的时候，内容会自动重新渲染。就像在 <code>trend-data</code> 时一样。</li>
<li>在 <code>script</code> 中，利用 <code>i18n.t</code> 方法处理国际化。在这种情况下，当我们切换 <code>locale</code> 的时候，需要通过 <code>watchSwitchLang</code> 方法，监听语言变化，再利用 <code>i18n.t</code> 重新获取最新的语言内容才可以。</li>
</ol>
<p>那么我们当前就处于 <strong>场景二</strong> 之中。</p>
<p>据此，具体代码如下：</p>
<ol>
<li><p>生成 <code>i18n</code> 实例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useI18n &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-i18n&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> i18n = <span class="title function_">useI18n</span>()</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改固定文本为 <code>i18n.t</code> 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// 图例配置</span></span><br><span class="line">    <span class="attr">legend</span>: &#123;</span><br><span class="line">      <span class="comment">// 图例数据</span></span><br><span class="line">      <span class="attr">data</span>: [i18n.<span class="title function_">t</span>(<span class="string">&#x27;msg.chart.monthIncome&#x27;</span>), i18n.<span class="title function_">t</span>(<span class="string">&#x27;msg.chart.dayIncome&#x27;</span>)],</span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">   ...</span><br><span class="line">    <span class="comment">// y 轴配置</span></span><br><span class="line">    <span class="attr">yAxis</span>: &#123;</span><br><span class="line">     ...</span><br><span class="line">      <span class="comment">// 刻度上展示的文字</span></span><br><span class="line">      <span class="attr">axisLabel</span>: &#123;</span><br><span class="line">        <span class="attr">formatter</span>: <span class="string">`&#123;value&#125; <span class="subst">$&#123;i18n.t(<span class="string">&#x27;msg.chart.unit&#x27;</span>)&#125;</span>`</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 图表类型</span></span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">      <span class="comment">// 第一个图表</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 图表名字，对应 legend.data[0]</span></span><br><span class="line">        <span class="attr">name</span>: i18n.<span class="title function_">t</span>(<span class="string">&#x27;msg.chart.monthIncome&#x27;</span>),</span><br><span class="line">       ...</span><br><span class="line">        <span class="attr">tooltip</span>: &#123;</span><br><span class="line">          <span class="comment">// 提示框展示的内容</span></span><br><span class="line">          <span class="attr">valueFormatter</span>: <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> value + i18n.<span class="title function_">t</span>(<span class="string">&#x27;msg.chart.unit&#x27;</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        ...</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// 第一个图表</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 图表名字，对应 legend.data[1]</span></span><br><span class="line">        <span class="attr">name</span>: i18n.<span class="title function_">t</span>(<span class="string">&#x27;msg.chart.dayIncome&#x27;</span>),</span><br><span class="line">       ...</span><br><span class="line">        <span class="attr">tooltip</span>: &#123;</span><br><span class="line">          <span class="comment">// 提示框展示的内容</span></span><br><span class="line">          <span class="attr">valueFormatter</span>: <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> value + i18n.<span class="title function_">t</span>(<span class="string">&#x27;msg.chart.unit&#x27;</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        ...</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后通过 <code>watchSwitchLang</code> 方法，重新触发 <code>renderChart</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; watchSwitchLang &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/i18n&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">watchSwitchLang</span>(renderChart)</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="11：日历模块-日历数据基础渲染"><a href="#11：日历模块-日历数据基础渲染" class="headerlink" title="11：日历模块-日历数据基础渲染"></a>11：日历模块-日历数据基础渲染</h2><p>在 <code>src/views/chart/components/calendar/index.vue</code> 中，利用 <a target="_blank" rel="noopener" href="https://element-plus.org/zh-CN/component/calendar.html">element-plus 的 calendar</a> 组件完成日历基本渲染：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card</span><br><span class="line">    class=&quot;container&quot;</span><br><span class="line">    :body-style=&quot;&#123;</span><br><span class="line">      padding: 0</span><br><span class="line">    &#125;&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;el-calendar class=&quot;calendar&quot; v-model=&quot;currentDate&quot;&gt;</span><br><span class="line">      &lt;template #dateCell=&quot;&#123; data &#125;&quot;&gt;</span><br><span class="line">        &lt;p :class=&quot;[data.isSelected ? &#x27;is-selected&#x27; : &#x27;&#x27;]&quot;&gt;</span><br><span class="line">          &lt;!-- 显示的内容 --&gt;</span><br><span class="line">          &#123;&#123;</span><br><span class="line">            data.day</span><br><span class="line">              .split(&#x27;-&#x27;)</span><br><span class="line">              .slice(2)</span><br><span class="line">              .join(&#x27;&#x27;)</span><br><span class="line">          &#125;&#125;</span><br><span class="line">          &lt;br /&gt;</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/el-calendar&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">// 选中的日期</span><br><span class="line">const currentDate = ref(new Date())</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  height: 443px;</span><br><span class="line">  .calendar &#123;</span><br><span class="line">    ::v-deep .el-calendar__body &#123;</span><br><span class="line">      padding: 0 12px 12px;</span><br><span class="line">      font-size: 14px;</span><br><span class="line">    &#125;</span><br><span class="line">    ::v-deep .el-calendar-day &#123;</span><br><span class="line">      height: 66px !important;</span><br><span class="line">      padding: 0 !important;</span><br><span class="line">      p &#123;</span><br><span class="line">        height: 100%;</span><br><span class="line">        padding: 8px;</span><br><span class="line">      &#125;</span><br><span class="line">      // 金额样式</span><br><span class="line">      .amount &#123;</span><br><span class="line">        font-size: 12px;</span><br><span class="line">      &#125;</span><br><span class="line">      // 正收益</span><br><span class="line">      .profit &#123;</span><br><span class="line">        background-color: #f3fff3;</span><br><span class="line">        span &#123;</span><br><span class="line">          color: #649840;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      // 负收益</span><br><span class="line">      .loss &#123;</span><br><span class="line">        background-color: #ffe7e7;</span><br><span class="line">        span &#123;</span><br><span class="line">          color: #b65d59;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .is-selected &#123;</span><br><span class="line">        background-color: #d6f2ff;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>至此，基础的日历模块渲染完成。</p>
<h2 id="12：日历模块-定制数据可视化处理"><a href="#12：日历模块-定制数据可视化处理" class="headerlink" title="12：日历模块-定制数据可视化处理"></a>12：日历模块-定制数据可视化处理</h2><ol>
<li><p>在 <code>src/api/chart.js</code> 中定义日历图示数据接口：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 日历图示数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getChartCalendar</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/chart/calendar&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/calendar/index.vue</code> 中获取数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123; getChartCalendar &#125; from &#x27;@/api/chart&#x27;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 获取数据</span><br><span class="line"> */</span><br><span class="line">const calendarListData = ref([])</span><br><span class="line">const getCalendarListData = async () =&gt; &#123;</span><br><span class="line">  const &#123; result &#125; = await getChartCalendar()</span><br><span class="line">  calendarListData.value = result</span><br><span class="line">&#125;</span><br><span class="line">getCalendarListData()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建方法 <code>getTadayAmount</code>，用于：<strong>返回指定日期收益数据，在日历中进行展示</strong>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 返回指定日期收益数据，在日历中进行展示</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getTadayAmount</span> = date =&gt; &#123;</span><br><span class="line">  <span class="comment">// 根据日期，获取当日数据</span></span><br><span class="line">  <span class="keyword">const</span> tadayData = calendarListData.<span class="property">value</span>.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">date</span> === date)</span><br><span class="line">  <span class="comment">// 判断当日数据是否存在</span></span><br><span class="line">  <span class="keyword">if</span> (!tadayData) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 获取当日收益</span></span><br><span class="line">  <span class="keyword">const</span> tadayAmount = tadayData.<span class="property">amount</span></span><br><span class="line">  <span class="keyword">return</span> tadayAmount</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>template</code> 中，添加当日金额视图：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">dateCell</span>=<span class="string">&quot;&#123; data &#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">:class</span>=<span class="string">&quot;[data.isSelected ? &#x27;is-selected&#x27; : &#x27;&#x27;]&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 显示的内容 --&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 当日金额 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;amount&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;getTadayAmount(data.day)&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; getTadayAmount(data.day) &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>为避免 <code>getTadayAmount</code> 被多次计算，创建简单的缓存处理：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 收益缓存数据。</span></span><br><span class="line"><span class="comment">// key 为日期</span></span><br><span class="line"><span class="comment">// val 为对应的 金额</span></span><br><span class="line"><span class="keyword">const</span> dateAmountList = <span class="title function_">ref</span>(&#123;&#125;)</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 返回指定日期收益数据，在日历中进行展示</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getTadayAmount</span> = date =&gt; &#123;</span><br><span class="line">  <span class="comment">// 读取缓存数据</span></span><br><span class="line">  <span class="keyword">if</span> (dateAmountList.<span class="property">value</span>[date]) &#123;</span><br><span class="line">    <span class="keyword">return</span> dateAmountList.<span class="property">value</span>[date]</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 对数据进行缓存</span></span><br><span class="line">  dateAmountList.<span class="property">value</span>[date] = tadayAmount</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> tadayAmount</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>至此，<strong>日历中可展示每日金额收益</strong></p>
</li>
<li><p>最后我们期望为 <strong>正收益添加 <code>profit</code></strong> 样式，为 <strong>负收益添加 <code>loss</code></strong> 样式</p>
</li>
<li><p>创建 <code>calendarItemBgClass</code> 方法，处理对应样式行为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 返回日历的背景</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">calendarItemBgClass</span> = day =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title function_">getTadayAmount</span>(day) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;profit&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">getTadayAmount</span>(day) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;loss&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>template</code> 中使用此方法：</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template #dateCell=&quot;&#123; data &#125;&quot;&gt;</span><br><span class="line">  &lt;p</span><br><span class="line">    :class=&quot;[</span><br><span class="line">      data.isSelected ? &#x27;is-selected&#x27; : &#x27;&#x27;,</span><br><span class="line"><span class="addition">+      calendarItemBgClass(data.day)</span></span><br><span class="line">    ]&quot;</span><br><span class="line">  &gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此：基于日历图的数据渲染完成。</p>
<h2 id="13：日金额分析-横向与负坐标图表构建"><a href="#13：日金额分析-横向与负坐标图表构建" class="headerlink" title="13：日金额分析-横向与负坐标图表构建"></a>13：日金额分析-横向与负坐标图表构建</h2><p>接下来我们来处理日金额分析模块。</p>
<p>对于该模块而言，同样以 <strong>柱状图</strong> 的形式呈现，然而不同的是，它是一个横向的，并且具备负数。</p>
<p>所以说在本小节中我们需要构建一个 <strong>横向，包含负数的柱状图</strong>。以此对比 <strong>累计收益</strong> 的柱状图，相信可以让大家对 <code>ECharts</code> 的图表绘制有更深的理解。</p>
<ol>
<li><p>在 <code>src/api/chart.js</code> 中创建数据获取方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 指定日期的时段柱形数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getChartTimeAmount</span> = date =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/chart/time/amount&#x27;</span>,</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">      date</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/horizontal-bar/index.vue</code> 中获取接口数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; getChartTimeAmount &#125; from &#x27;@/api/chart&#x27;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 获取数据</span><br><span class="line"> */</span><br><span class="line">const data = ref([])</span><br><span class="line">const getData = async date =&gt; &#123;</span><br><span class="line">  const &#123; result &#125; = await getChartTimeAmount(date)</span><br><span class="line">  data.value = result</span><br><span class="line">  // 渲染图表</span><br><span class="line">&#125;</span><br><span class="line">getData()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据数据绘制图表，同时处理国际化内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; getChartTimeAmount &#125; from &#x27;@/api/chart&#x27;</span><br><span class="line">import * as echarts from &#x27;echarts&#x27;</span><br><span class="line">import &#123; onMounted, ref &#125; from &#x27;vue&#x27;</span><br><span class="line">// 国际化相关</span><br><span class="line">import &#123; useI18n &#125; from &#x27;vue-i18n&#x27;</span><br><span class="line">import &#123; watchSwitchLang &#125; from &#x27;@/utils/i18n&#x27;</span><br><span class="line">const i18n = useI18n()</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 图表初始化</span><br><span class="line"> */</span><br><span class="line">const target = ref(null)</span><br><span class="line">let mChart = null</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  mChart = echarts.init(target.value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 构建图表</span><br><span class="line"> */</span><br><span class="line">const renderChart = () =&gt; &#123;</span><br><span class="line">  const options = &#123;</span><br><span class="line">    // 鼠标移入之后的提示框配置</span><br><span class="line">    tooltip: &#123;</span><br><span class="line">      // 鼠标移入到坐标轴时，触发提示框</span><br><span class="line">      trigger: &#x27;axis&#x27;,</span><br><span class="line">      // 移入坐标轴时，提示框的配置项</span><br><span class="line">      axisPointer: &#123;</span><br><span class="line">        // 指示器展示阴影</span><br><span class="line">        type: &#x27;shadow&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // 图例配置</span><br><span class="line">    legend: &#123;</span><br><span class="line">      // 图例数据</span><br><span class="line">      data: [</span><br><span class="line">        `$&#123;i18n.t(&#x27;msg.chart.income&#x27;)&#125;（$&#123;i18n.t(&#x27;msg.chart.unit&#x27;)&#125;）`,</span><br><span class="line">        `$&#123;i18n.t(&#x27;msg.chart.expend&#x27;)&#125;（$&#123;i18n.t(&#x27;msg.chart.unit&#x27;)&#125;）`,</span><br><span class="line">        `$&#123;i18n.t(&#x27;msg.chart.balance&#x27;)&#125;（$&#123;i18n.t(&#x27;msg.chart.unit&#x27;)&#125;）`</span><br><span class="line">      ],</span><br><span class="line">      // 图例位置</span><br><span class="line">      right: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    // echarts 网格绘制的位置，对应 上、右、下、左</span><br><span class="line">    grid: &#123;</span><br><span class="line">      top: 28,</span><br><span class="line">      right: 0,</span><br><span class="line">      bottom: 0,</span><br><span class="line">      left: 0,</span><br><span class="line">      // 计算边距时，包含标签</span><br><span class="line">      containLabel: true</span><br><span class="line">    &#125;,</span><br><span class="line">    // X 轴配置</span><br><span class="line">    xAxis: [</span><br><span class="line">      &#123;</span><br><span class="line">        // 数值轴，适用于连续数据</span><br><span class="line">        type: &#x27;value&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    // y 轴配置</span><br><span class="line">    yAxis: [</span><br><span class="line">      &#123;</span><br><span class="line">        // 坐标轴类型，category：类目轴</span><br><span class="line">        type: &#x27;category&#x27;,</span><br><span class="line">        // 刻度尺配置</span><br><span class="line">        axisTick: &#123;</span><br><span class="line">          // 不显示坐标轴刻度</span><br><span class="line">          show: false</span><br><span class="line">        &#125;,</span><br><span class="line">        // Y 轴数据</span><br><span class="line">        data: data.value.map(item =&gt; item.timeStr),</span><br><span class="line">        // 反向展示</span><br><span class="line">        inverse: true</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    // 图表类型</span><br><span class="line">    series: [</span><br><span class="line">      // 第一个图表：收益</span><br><span class="line">      &#123;</span><br><span class="line">        // 图表名字，对应 legend.data[0]</span><br><span class="line">        name: `$&#123;i18n.t(&#x27;msg.chart.income&#x27;)&#125;（$&#123;i18n.t(&#x27;msg.chart.unit&#x27;)&#125;）`,</span><br><span class="line">        // 图表类型</span><br><span class="line">        type: &#x27;bar&#x27;,</span><br><span class="line">        // 数据堆叠，两个相同的 stack 将会堆叠渲染</span><br><span class="line">        stack: &#x27;Total&#x27;,</span><br><span class="line">        // 标签配置</span><br><span class="line">        label: &#123;</span><br><span class="line">          // 展示</span><br><span class="line">          show: true,</span><br><span class="line">          // 右侧</span><br><span class="line">          position: &#x27;right&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        // 柱的颜色</span><br><span class="line">        color: &#x27;#6DC473&#x27;,</span><br><span class="line">        // 高亮配置</span><br><span class="line">        emphasis: &#123;</span><br><span class="line">          // 聚焦当前高亮的数据所在的系列的所有图形</span><br><span class="line">          focus: &#x27;series&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        // 数据</span><br><span class="line">        data: data.value.map(item =&gt; item.income)</span><br><span class="line">      &#125;,</span><br><span class="line">      // 第二个图表：支出</span><br><span class="line">      &#123;</span><br><span class="line">        // 图表名字，对应 legend.data[1]</span><br><span class="line">        name: `$&#123;i18n.t(&#x27;msg.chart.expend&#x27;)&#125;（$&#123;i18n.t(&#x27;msg.chart.unit&#x27;)&#125;）`,</span><br><span class="line">        // 图表类型</span><br><span class="line">        type: &#x27;bar&#x27;,</span><br><span class="line">        // 数据堆叠，两个相同的 stack 将会堆叠渲染</span><br><span class="line">        stack: &#x27;Total&#x27;,</span><br><span class="line">        // 标签配置</span><br><span class="line">        label: &#123;</span><br><span class="line">          // 展示</span><br><span class="line">          show: true,</span><br><span class="line">          // 右侧</span><br><span class="line">          position: &#x27;right&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        // 柱的颜色</span><br><span class="line">        color: &#x27;#E47470&#x27;,</span><br><span class="line">        // 高亮配置</span><br><span class="line">        emphasis: &#123;</span><br><span class="line">          // 聚焦当前高亮的数据所在的系列的所有图形</span><br><span class="line">          focus: &#x27;series&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        // 数据</span><br><span class="line">        data: data.value.map(item =&gt; item.expense)</span><br><span class="line">      &#125;,</span><br><span class="line">      // 第三个图表：结余</span><br><span class="line">      &#123;</span><br><span class="line">        // 图表名字，对应 legend.data[2]</span><br><span class="line">        name: `$&#123;i18n.t(&#x27;msg.chart.balance&#x27;)&#125;（$&#123;i18n.t(&#x27;msg.chart.unit&#x27;)&#125;）`,</span><br><span class="line">        // 图表类型</span><br><span class="line">        type: &#x27;bar&#x27;,</span><br><span class="line">        // 标签配置</span><br><span class="line">        label: &#123;</span><br><span class="line">          // 展示</span><br><span class="line">          show: true,</span><br><span class="line">          // 内部</span><br><span class="line">          position: &#x27;inside&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        // 柱的颜色</span><br><span class="line">        color: &#x27;#83C0DF&#x27;,</span><br><span class="line">        // 高亮配置</span><br><span class="line">        emphasis: &#123;</span><br><span class="line">          // 聚焦当前高亮的数据所在的系列的所有图形</span><br><span class="line">          focus: &#x27;series&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        // 数据</span><br><span class="line">        data: data.value.map(item =&gt; item.balance)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">  mChart.setOption(options)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">watchSwitchLang(renderChart)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后对样式进行修正：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card</span><br><span class="line">    :body-style=&quot;&#123;</span><br><span class="line">      paddingTop: &#x27;12px&#x27;</span><br><span class="line">    &#125;&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;div class=&quot;container&quot; ref=&quot;target&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  height: 403px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，日金额分析模块渲染完成。</p>
<h2 id="14：非父子组件之间进行交互的三种方式"><a href="#14：非父子组件之间进行交互的三种方式" class="headerlink" title="14：非父子组件之间进行交互的三种方式"></a>14：非父子组件之间进行交互的三种方式</h2><p>在 <code>Vue</code> 的项目中，涉及到组件之间通讯，通常会有两种场景：</p>
<ol>
<li>父子组件通讯：这也是我们最常见的一种场景，可以通过 <code>props</code> 或 <code>emits</code> 来完成。</li>
<li>非父子组件通讯：这种情况相对比较复杂，因为两个无关的组件进行通讯必须要找到一个 <strong>“沟通者”</strong> ，这个沟通者必须可以与双方都进行通讯。通常情况下有三种方式：<ol>
<li>找到双方共同的父组件：通过子向父通讯，父向子通讯的方式<ol>
<li>优点：以现有技术即可完成</li>
<li>缺点：大量的跨组件处理事件，会导致逻辑变得非常复杂，各个组件之间的耦合性变强</li>
</ol>
</li>
<li>借助 <code>vuex</code>：因为 <code>vuex</code> 是可以与所有组件都进行交互的，所以可以借助它承担 “沟通者” 的角色<ol>
<li>优点：以现有技术即可完成</li>
<li>缺点：数据必须由 <code>Vuex</code> 处理，如果该数据之前没有存放在 <code>Vuex</code> 中，则需要进行较大的改动</li>
</ol>
</li>
<li>事件中心 <code>EventHub</code>：所谓事件中心其实就有一个 <strong>公开的单例</strong>，一般会提供 <code>emits 发送事件</code> 和 <code>on 监听事件</code> 两个方法。在 <code>Vue2</code> 中 <code>vm</code> 实例因为直接具备这两个方法，所以可以直接作为事件中心实例。而在 <code>Vue3</code> 中，取消了 <code>on</code> 方法，所以如果想要实现这种机制，则需要通过 <a target="_blank" rel="noopener" href="https://github.com/developit/mitt">mitt</a> 来进行实现。<ol>
<li>优点：有利于组件之间的解耦，增加可维护性</li>
<li>缺点：当事件足够多时，会导致事件中心极其复杂</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>那么综上所述，我们可知：<strong>如果只是进行少量的非父子组件通讯，那么通过 <code>EventHub</code> 的形式处理</strong> 是比较好的。</p>
<p>所以说，在接下来的 <strong>日历图与柱状图联动处理</strong> 中，我们将会通过 <strong>事件中心 <code>EventHub</code></strong> 的方式来完成。</p>
<h2 id="15：跨组件通讯-日历图与柱状图联动处理"><a href="#15：跨组件通讯-日历图与柱状图联动处理" class="headerlink" title="15：跨组件通讯-日历图与柱状图联动处理"></a>15：跨组件通讯-日历图与柱状图联动处理</h2><p>根据上一小节所述，我们知道在本小节中，我们将会通过 <strong>事件中心 <code>EventHub</code></strong> 来处理跨组件通讯。</p>
<ol>
<li><p>安装  <a target="_blank" rel="noopener" href="https://github.com/developit/mitt">mitt</a>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save mitt@3.0.0</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建 <code>src/utils/eventHub.js</code>，作为事件中心：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mitt <span class="keyword">from</span> <span class="string">&#x27;mitt&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 注意：</span></span><br><span class="line"><span class="comment"> * 这种方式在 Vue3 中，已经没有原生的实现，可以借助 mitt 进行实现。但是这种方式并不适合大范围的使用，因为很有可能会导致出现事件紊乱的错误。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">mitt</span>()</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/calendar/index.vue</code> 中，监听 <code>currentDate</code> 的变化，发送事件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> emitter <span class="keyword">from</span> <span class="string">&#x27;@/utils/eventHub&#x27;</span></span><br><span class="line"><span class="comment">// 选中的日期</span></span><br><span class="line"><span class="keyword">const</span> currentDate = <span class="title function_">ref</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 触发日期改变的事件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">watch</span>(currentDate, <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">  emitter.<span class="title function_">emit</span>(<span class="string">&#x27;calendarChange&#x27;</span>, val)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/horizontal-bar/index.vue</code> 中，通过 <code>on</code> 方法监听事件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 与日历图联通</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">emitter.<span class="title function_">on</span>(<span class="string">&#x27;calendarChange&#x27;</span>, <span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">getData</span>(val)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，日历图与柱状图联动完成。</p>
<h2 id="16：大区营销-饼图图表构建"><a href="#16：大区营销-饼图图表构建" class="headerlink" title="16：大区营销-饼图图表构建"></a>16：大区营销-饼图图表构建</h2><p>接下来我们来通过饼图展示大区营销数据。</p>
<p>相信大家经过前面的学习之后，饼图的绘制对于大家而言，应该并不是一个复杂的点了。</p>
<p>大家可以先尝试 <strong>通过查看 <code>ECharts</code> 文档的形式，自己先实现一下饼图的绘制</strong>，实现完成之后，再来学习本章，作为一个验证的过程，这种方式也是极好的。</p>
<p>那么下面我们就来看一下饼图的绘制：</p>
<ol>
<li><p>在 <code>src/api/chart.js</code> 中定义数据接口：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 饼图数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getChartPie</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/chart/pie&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/pie/index.vue</code> 中通过接口获取数据：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; getChartPie &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/chart&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> chartData = <span class="title function_">ref</span>([])</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getChartData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">getChartPie</span>()</span><br><span class="line">  chartData.<span class="property">value</span> = res</span><br><span class="line">  <span class="comment">// 渲染图表</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getChartData</span>()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>构建基础的 <code>html</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card</span><br><span class="line">    :body-style=&quot;&#123;</span><br><span class="line">      padding: 0</span><br><span class="line">    &#125;&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;div ref=&quot;target&quot; class=&quot;container&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  height: 240px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>渲染图表，并处理国际化内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&#x27;echarts&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; getChartPie &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/chart&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useI18n &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-i18n&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; watchSwitchLang &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/i18n&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> i18n = <span class="title function_">useI18n</span>()</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> target = <span class="title function_">ref</span>(<span class="literal">null</span>)</span><br><span class="line"><span class="keyword">let</span> mChart = <span class="literal">null</span></span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  mChart = echarts.<span class="title function_">init</span>(target.<span class="property">value</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">renderChart</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> options = &#123;</span><br><span class="line">    <span class="comment">// 标题</span></span><br><span class="line">    <span class="attr">title</span>: &#123;</span><br><span class="line">      <span class="attr">text</span>: i18n.<span class="title function_">t</span>(<span class="string">&#x27;msg.chart.pieChartTitle&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 鼠标移入的提示</span></span><br><span class="line">    <span class="attr">tooltip</span>: &#123;</span><br><span class="line">      <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span>,</span><br><span class="line">      <span class="comment">// &#123;b&#125;：数据名。&#123;c&#125;：数值。</span></span><br><span class="line">      <span class="attr">formatter</span>: <span class="string">`&#123;b&#125;: &#123;c&#125; <span class="subst">$&#123;i18n.t(<span class="string">&#x27;msg.chart.unit&#x27;</span>)&#125;</span>`</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 饼图</span></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span><br><span class="line">        <span class="comment">// 饼图的半径。第一项为内半径，第二项为外半径</span></span><br><span class="line">        <span class="attr">radius</span>: [<span class="string">&#x27;40%&#x27;</span>, <span class="string">&#x27;70%&#x27;</span>],</span><br><span class="line">        <span class="comment">// 每个 item 的样式</span></span><br><span class="line">        <span class="attr">itemStyle</span>: &#123;</span><br><span class="line">          <span class="comment">// 圆角</span></span><br><span class="line">          <span class="attr">borderRadius</span>: <span class="number">10</span>,</span><br><span class="line">          <span class="comment">// 边框色</span></span><br><span class="line">          <span class="attr">borderColor</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">          <span class="comment">// 边框宽度</span></span><br><span class="line">          <span class="attr">borderWidth</span>: <span class="number">2</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 文字</span></span><br><span class="line">        <span class="attr">label</span>: &#123;</span><br><span class="line">          <span class="comment">// 默认不显示</span></span><br><span class="line">          <span class="attr">show</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="comment">// &#123;b&#125;：数据名。&#123;d&#125;：百分比。</span></span><br><span class="line">          <span class="attr">formatter</span>: <span class="string">&#x27;&#123;b&#125;: &#123;d&#125;%&#x27;</span>,</span><br><span class="line">          <span class="comment">// 居中展示（在鼠标移入时）</span></span><br><span class="line">          <span class="attr">position</span>: <span class="string">&#x27;center&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 高亮状态的扇区和标签样式</span></span><br><span class="line">        <span class="attr">emphasis</span>: &#123;</span><br><span class="line">          <span class="comment">// 文本</span></span><br><span class="line">          <span class="attr">label</span>: &#123;</span><br><span class="line">            <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">fontSize</span>: <span class="string">&#x27;22&#x27;</span>,</span><br><span class="line">            <span class="attr">fontWeight</span>: <span class="string">&#x27;bold&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">data</span>: chartData.<span class="property">value</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  mChart.<span class="title function_">setOption</span>(options)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">watchSwitchLang</span>(renderChart)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，饼图渲染完成。</p>
<h2 id="17：文档云图-WordCloud-基础渲染"><a href="#17：文档云图-WordCloud-基础渲染" class="headerlink" title="17：文档云图-WordCloud 基础渲染"></a>17：文档云图-WordCloud 基础渲染</h2><p>对于 <code>ECharts</code> 而言，默认并没有提供文档云图的图表渲染，如果我们想要渲染文档云图的话，那么需要借助另外一个包：<a target="_blank" rel="noopener" href="https://github.com/ecomfe/echarts-wordcloud">echarts-wordcloud</a></p>
<p>对于该包的使用非常简单，只需要在需要渲染文档云图时，指定：<code>import &#39;echarts-wordcloud&#39;;</code> 导入即可。</p>
<ol>
<li><p>安装 <code>echarts-wordcloud</code>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install echarts-wordcloud@2.0.0</span><br></pre></td></tr></table></figure>
</li>
<li><p>定义文档云图数据接口：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文字云图数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getChartWordCloud</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/chart/wordcloud&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/word-cloud/index.vue</code> 中获取数据：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> wordCloudData = <span class="title function_">ref</span>([])</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getWordCloudData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">getChartWordCloud</span>()</span><br><span class="line">  wordCloudData.<span class="property">value</span> = res</span><br><span class="line">  <span class="comment">// 渲染图表</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getWordCloudData</span>()</span><br></pre></td></tr></table></figure>
</li>
<li><p>构建基本的 <code>html</code> 和 <code>css</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card</span><br><span class="line">    :body-style=&quot;&#123;</span><br><span class="line">      padding: 0</span><br><span class="line">    &#125;&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;div class=&quot;container&quot; ref=&quot;target&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  height: 240px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>渲染图表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import * as echarts from &#x27;echarts&#x27;</span><br><span class="line">import &#x27;echarts-wordcloud&#x27;</span><br><span class="line">import &#123; ref, onMounted &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123; randomRGB &#125; from &#x27;@/utils/color&#x27;</span><br><span class="line">import &#123; getChartWordCloud &#125; from &#x27;@/api/chart.js&#x27;</span><br><span class="line">import &#123; useI18n &#125; from &#x27;vue-i18n&#x27;</span><br><span class="line">import &#123; watchSwitchLang &#125; from &#x27;@/utils/i18n&#x27;</span><br><span class="line"></span><br><span class="line">const i18n = useI18n()</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">const target = ref(null)</span><br><span class="line">let mChart = null</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  mChart = echarts.init(target.value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 渲染图表</span><br><span class="line"> */</span><br><span class="line">const renderChart = () =&gt; &#123;</span><br><span class="line">  var option = &#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">      text: i18n.t(&#x27;msg.chart.cloudChartTitle&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    series: [</span><br><span class="line">      &#123;</span><br><span class="line">        // 类型</span><br><span class="line">        type: &#x27;wordCloud&#x27;,</span><br><span class="line">        // 数据映射文本的大小范围</span><br><span class="line">        sizeRange: [4, 80],</span><br><span class="line">        // 文字旋转范围</span><br><span class="line">        rotationRange: [0, 0],</span><br><span class="line">        // 单词之间的间距</span><br><span class="line">        gridSize: 0,</span><br><span class="line">        // 渲染动画</span><br><span class="line">        layoutAnimation: true,</span><br><span class="line">        // 字体</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">          // 随机色值</span><br><span class="line">          color: randomRGB</span><br><span class="line">        &#125;,</span><br><span class="line">        // 高亮字体</span><br><span class="line">        emphasis: &#123;</span><br><span class="line">          textStyle: &#123;</span><br><span class="line">            fontWeight: &#x27;bold&#x27;,</span><br><span class="line">            color: &#x27;#000&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        // 数据</span><br><span class="line">        data: wordCloudData.value</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  mChart.setOption(option)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">watchSwitchLang(renderChart)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建 <code>src/utils/color.js</code> ，暴露 <code>randomRGB</code> 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 生成随机色值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">randomRGB</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> r = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">255</span>)</span><br><span class="line">  <span class="keyword">const</span> g = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">255</span>)</span><br><span class="line">  <span class="keyword">const</span> b = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">255</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`rgb(<span class="subst">$&#123;r&#125;</span>, <span class="subst">$&#123;g&#125;</span>, <span class="subst">$&#123;b&#125;</span>)`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，基础的文档云图渲染完成。</p>
<h2 id="18：文档云图-基于图形轮廓的绘制"><a href="#18：文档云图-基于图形轮廓的绘制" class="headerlink" title="18：文档云图-基于图形轮廓的绘制"></a>18：文档云图-基于图形轮廓的绘制</h2><p>目前咱们的文档云图已经绘制完成，但是目前的文档云图是有点难看的，我们期望它能够：<strong>在绘制文档的同时，预留出 <code>imooc</code> 的一个 <code>logo</code> 图形</strong></p>
<p>那么如果想要实现这个功能，则需要借助 <code>wordCloud</code> 的 <code>maskImage</code> 属性，通过该属性指定图形轮廓。</p>
<ol>
<li><p>在 <code>renderChart</code> 中，构建 <code>img</code> 实例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> wordcloudBg <span class="keyword">from</span> <span class="string">&#x27;@/assets/wordcloud.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 图像轮廓</span></span><br><span class="line"><span class="keyword">var</span> maskImage = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">maskImage.<span class="property">src</span> = wordcloudBg</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>series</code> 配置属性中，指定 <code>maskImage</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绘制将排除图像的轮廓</span></span><br><span class="line"><span class="attr">maskImage</span>: maskImage,</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>等待图像加载完成之后</strong>，再设置 <code>Option</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 等待图像加载完成之后</span></span><br><span class="line">maskImage.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  mChart.<span class="title function_">setOption</span>(option)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>此时，绘制的文档即预留了指定的图形轮廓。</p>
<h2 id="19：地图可视化：百度地图-API-大解析"><a href="#19：地图可视化：百度地图-API-大解析" class="headerlink" title="19：地图可视化：百度地图 API 大解析"></a>19：地图可视化：百度地图 API 大解析</h2><p>接下来我们需要处理的是营收业绩图示，也就是地图可视化。</p>
<p>对于地图可视化而言，我们将使用百度地图结合 <code>ECharts</code> 进行绘制。</p>
<p>所以说想要完成地图可视化，首先我们需要：<strong>申请百度地图应用</strong>：</p>
<p>申请百度地图应用，将分为两部分讲解：</p>
<ol>
<li>注册开发者</li>
<li>申请应用</li>
</ol>
<h3 id="注册开发者"><a href="#注册开发者" class="headerlink" title="注册开发者"></a>注册开发者</h3><ol>
<li>打开 <a target="_blank" rel="noopener" href="https://lbsyun.baidu.com/">百度地图 API</a></li>
<li>点击右上角登录按钮：<br>![image-20220620151244308](&#x2F;Users&#x2F;icetwo&#x2F;Desktop&#x2F;project&#x2F;源码&#x2F;nodes&#x2F;第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets&#x2F;image-20220620151244308.png)</li>
<li>选择立即注册（百度系账号通用）：<img src="/Users/icetwo/Desktop/project/源码/nodes/第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets/image-20220620151306708.png" alt="image-20220620151306708" style="zoom:33%;" /></li>
<li>完成注册：<img src="/Users/icetwo/Desktop/project/源码/nodes/第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets/image-20220620152256528.png" alt="image-20220620152256528" style="zoom: 25%;" /></li>
<li>账号注册成功之后，重新进入 <a target="_blank" rel="noopener" href="https://lbsyun.baidu.com/">百度地图 API</a> 平台</li>
<li>点击控制台，注册称为开发者：<br>![image-20220620152435654](&#x2F;Users&#x2F;icetwo&#x2F;Desktop&#x2F;project&#x2F;源码&#x2F;nodes&#x2F;第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets&#x2F;image-20220620152435654.png)</li>
<li>咱们这里选择 <strong>个人开发者</strong>：<img src="/Users/icetwo/Desktop/project/源码/nodes/第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets/image-20220620152505670.png" alt="image-20220620152505670" style="zoom:50%;" /></li>
<li>同意即可：<img src="/Users/icetwo/Desktop/project/源码/nodes/第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets/image-20220620152527243.png" alt="image-20220620152527243" style="zoom: 33%;" /></li>
<li>填写开发者信息：<img src="/Users/icetwo/Desktop/project/源码/nodes/第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets/image-20220620152650595.png" alt="image-20220620152650595" style="zoom: 33%;" /></li>
<li>完善基本信息：<img src="/Users/icetwo/Desktop/project/源码/nodes/第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets/image-20220620152928493.png" alt="image-20220620152928493" style="zoom:25%;" /></li>
<li>上传身份证信息：<img src="/Users/icetwo/Desktop/project/源码/nodes/第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets/image-20220620153124739.png" alt="image-20220620153124739" style="zoom:25%;" /></li>
<li>因为我这边已经注册过了，所以只能进行到这个位置，后面就是最后一步，注册成功了。</li>
<li>注册成功之后，个人开发者应该是即时就可以生效的。</li>
</ol>
<p>至此，<strong>开发者信息创建完成</strong></p>
<p>接下来我们就需要创建对应的：<strong>应用信息</strong></p>
<h3 id="申请应用"><a href="#申请应用" class="headerlink" title="申请应用"></a>申请应用</h3><ol>
<li>登录账号之后，点击控制台，此时可以进入控制台页面</li>
<li>点击 <strong>应用管理 -&gt; 我的应用</strong> ，选择 <strong>创建应用</strong><img src="/Users/icetwo/Desktop/project/源码/nodes/第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets/image-20220620153659199.png" alt="image-20220620153659199" style="zoom:33%;" /></li>
<li>填入基本应用信息，<strong>重点：注意 <code>Referer白名单</code></strong> ，因为这个应用可能会被很多同学使用，所以我们填写的是 <code>*</code> ！ ：<br>![image-20220620153740557](&#x2F;Users&#x2F;icetwo&#x2F;Desktop&#x2F;project&#x2F;源码&#x2F;nodes&#x2F;第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets&#x2F;image-20220620153740557.png)</li>
<li>点击提交，应用创建完成，此时我们可以得到一个 **<code>访问应用（AK）</code>**：<code>Lw93eLNTRghjevtCP8rgYDqkMtcw4zU3</code> </li>
<li>大家如果不愿意走那么麻烦的注册流程，那么可以直接使用该 <code>AK</code></li>
</ol>
<p>那么到这里我们就已经完成了百度地图的应用创建，并且得到了对应的 <code>AK</code>。</p>
<p>那么有了此 <code>AK</code>，之后，接下来我们就可以完成对应的地图可视化渲染了。</p>
<h2 id="20：地图可视化：百度地图-ECharts-完成可视化渲染"><a href="#20：地图可视化：百度地图-ECharts-完成可视化渲染" class="headerlink" title="20：地图可视化：百度地图 + ECharts 完成可视化渲染"></a>20：地图可视化：百度地图 + ECharts 完成可视化渲染</h2><p>想要完成地图可视化，那么需要结合 <strong>百度地图</strong> 和 <code>ECharts</code> 的 <code>bmap.js</code> 模块才可以。</p>
<ol>
<li><p>在 <code>public/index.html</code> 中，导入百度地图 <code>API</code> （通用<code>AK</code>：<code>Lw93eLNTRghjevtCP8rgYDqkMtcw4zU3</code>）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://api.map.baidu.com/api?v=3.0&amp;ak=$&#123;此处写入你的 AK &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/api/chart.js</code> 中，定义地图可视化数据接口：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 地图可视化</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getChartMap</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/chart/bmap&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/b-map/index.vue</code> 中，获取对应数据：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> chartData = <span class="title function_">ref</span>(&#123;&#125;)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getChartData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">getChartMap</span>()</span><br><span class="line">  chartData.<span class="property">value</span> = res</span><br><span class="line">  <span class="comment">// 渲染图表</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getChartData</span>()</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>注意：</strong> 此时服务端返回的数据包含两个属性：</p>
<ol>
<li><code>data</code>：所有的城市和对应数据</li>
<li><code>geoCoordMap</code>：所有城市和对应坐标</li>
</ol>
</li>
<li><p>该数据是 <strong>不可以</strong> 直接在地图可视化中进行渲染的，所以我们需要对该数据进行 <strong>重置</strong>：</p>
</li>
<li><p>期望重置为该格式数据：<br>![image-20220620162442734](&#x2F;Users&#x2F;icetwo&#x2F;Desktop&#x2F;project&#x2F;源码&#x2F;nodes&#x2F;第十四章：加餐 - 数据可视化解决方案（ECharts + AntV）.assets&#x2F;image-20220620162442734.png)</p>
</li>
<li><p>所以得出以下算法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 数据转化方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> convertData = <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="comment">// 返回值</span></span><br><span class="line">  <span class="keyword">const</span> res = []</span><br><span class="line">  <span class="comment">// 遍历所有城市数据</span></span><br><span class="line">  data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 根据城市名从 geoCoordMap 中获取对应坐标</span></span><br><span class="line">    <span class="keyword">const</span> geoCoord = chartData.<span class="property">value</span>.<span class="property">geoCoordMap</span>[item.<span class="property">name</span>]</span><br><span class="line">    <span class="comment">// 如果可以获取到坐标，则生成新的数据对象</span></span><br><span class="line">    <span class="keyword">if</span> (geoCoord) &#123;</span><br><span class="line">      <span class="comment">// 该数据对象为：</span></span><br><span class="line">      <span class="comment">// name：城市名</span></span><br><span class="line">      <span class="comment">// value：数组[经度、维度、数据]</span></span><br><span class="line">      res.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: item.<span class="property">name</span>,</span><br><span class="line">        <span class="attr">value</span>: [...geoCoord, item.<span class="property">value</span>]</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>构建 <code>HTML</code> 和 <code>CSS</code> 结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card</span><br><span class="line">    class=&quot;container&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;div class=&quot;title&quot;&gt;&#123;&#123; $t(&#x27;msg.chart.bmapChartTitle&#x27;) &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div ref=&quot;target&quot; class=&quot;box&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  .title &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 28px;</span><br><span class="line">    margin-left: 50%;</span><br><span class="line">    transform: translateX(-50%);</span><br><span class="line">    color: #333;</span><br><span class="line">    font-size: 22px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    z-index: 9;</span><br><span class="line">  &#125;</span><br><span class="line">  .box &#123;</span><br><span class="line">    height: 462px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>导入 <code>ECharts</code> 中处理地图模块 <code>bmap</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入 bmap 模块</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;echarts/extension/bmap/bmap.js&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>完成图表渲染：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> i18n = <span class="title function_">useI18n</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 初始化 echarts</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> target = <span class="title function_">ref</span>(<span class="literal">null</span>)</span><br><span class="line"><span class="keyword">let</span> mChart = <span class="literal">null</span></span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  mChart = echarts.<span class="title function_">init</span>(target.<span class="property">value</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 渲染地图数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">renderBMap</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> options = &#123;</span><br><span class="line">    <span class="attr">tooltip</span>: &#123;</span><br><span class="line">      <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 地图配置</span></span><br><span class="line">    <span class="attr">bmap</span>: &#123;</span><br><span class="line">      <span class="comment">// 中心点</span></span><br><span class="line">      <span class="attr">center</span>: [<span class="number">109.114129</span>, <span class="number">36.550339</span>],</span><br><span class="line">      <span class="comment">// 缩放级别</span></span><br><span class="line">      <span class="attr">zoom</span>: <span class="number">5</span>,</span><br><span class="line">      <span class="comment">// 是否可拖动</span></span><br><span class="line">      <span class="attr">roam</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">`营收（<span class="subst">$&#123;i18n.t(<span class="string">&#x27;msg.chart.unit&#x27;</span>)&#125;</span>）`</span>,</span><br><span class="line">        <span class="comment">// 散点图</span></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;scatter&#x27;</span>,</span><br><span class="line">        <span class="comment">// 使用的表坐标</span></span><br><span class="line">        <span class="attr">coordinateSystem</span>: <span class="string">&#x27;bmap&#x27;</span>,</span><br><span class="line">        <span class="comment">// 数据源</span></span><br><span class="line">        <span class="attr">data</span>: <span class="title function_">convertData</span>(chartData.<span class="property">value</span>.<span class="property">data</span>),</span><br><span class="line">        <span class="comment">// 散点的大小</span></span><br><span class="line">        <span class="attr">symbolSize</span>: <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> val[<span class="number">2</span>] / <span class="number">10</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 数据使用下标为2的值（item.value[2]）</span></span><br><span class="line">        <span class="attr">encode</span>: &#123;</span><br><span class="line">          <span class="attr">value</span>: <span class="number">2</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 鼠标移入时，高亮的标签样式</span></span><br><span class="line">        <span class="attr">emphasis</span>: &#123;</span><br><span class="line">          <span class="attr">label</span>: &#123;</span><br><span class="line">            <span class="comment">// 鼠标移入时，显示高亮</span></span><br><span class="line">            <span class="attr">show</span>: <span class="literal">true</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 散点色值</span></span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;#15803d&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">`营收 TOP 5（<span class="subst">$&#123;i18n.t(<span class="string">&#x27;msg.chart.unit&#x27;</span>)&#125;</span>）`</span>,</span><br><span class="line">        <span class="comment">// 包含涟漪特效动画的散点的散点图</span></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;effectScatter&#x27;</span>,</span><br><span class="line">        <span class="comment">// 使用的表坐标</span></span><br><span class="line">        <span class="attr">coordinateSystem</span>: <span class="string">&#x27;bmap&#x27;</span>,</span><br><span class="line">        <span class="comment">// 数据源（top 5）</span></span><br><span class="line">        <span class="attr">data</span>: <span class="title function_">convertData</span>(</span><br><span class="line">          chartData.<span class="property">value</span>.<span class="property">data</span></span><br><span class="line">            .<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">              <span class="keyword">return</span> b.<span class="property">value</span> - a.<span class="property">value</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">6</span>)</span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">// 散点的大小</span></span><br><span class="line">        <span class="attr">symbolSize</span>: <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> val[<span class="number">2</span>] / <span class="number">10</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 数据使用下标为2的值（item.value[2]）</span></span><br><span class="line">        <span class="attr">encode</span>: &#123;</span><br><span class="line">          <span class="attr">value</span>: <span class="number">2</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 涟漪特效</span></span><br><span class="line">        <span class="attr">rippleEffect</span>: &#123;</span><br><span class="line">          <span class="comment">// stroke 类型的波纹</span></span><br><span class="line">          <span class="attr">brushType</span>: <span class="string">&#x27;stroke&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 显示地名</span></span><br><span class="line">        <span class="attr">label</span>: &#123;</span><br><span class="line">          <span class="attr">formatter</span>: <span class="string">&#x27;&#123;b&#125;&#x27;</span>,</span><br><span class="line">          <span class="attr">position</span>: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">          <span class="attr">show</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 散点层级</span></span><br><span class="line">        <span class="attr">zlevel</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="comment">// 散点色值</span></span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;#166534&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">  mChart.<span class="title function_">setOption</span>(options)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，地图可视化渲染完成。</p>
<p>到此时，我们基于 <code>ECharts</code> 来实现的可视化内容，就已经全部完成。</p>
<p>接下来我们就将会基于 <code>AntV</code> 的 <code>S2</code> 模块，来实现 <strong>大区营销数据分析</strong> 图示！</p>
<h2 id="21：大区营销数据分析-基础结构渲染"><a href="#21：大区营销数据分析-基础结构渲染" class="headerlink" title="21：大区营销数据分析-基础结构渲染"></a>21：大区营销数据分析-基础结构渲染</h2><p>对于大区营销模块而言，首先我们需要先把它的基础结构进行渲染。</p>
<ol>
<li><p>创建 <code>src/views/chart/components/table-sheet/components/s2.vue</code> 作为图表渲染组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card</span><br><span class="line">    :body-style=&quot;&#123;</span><br><span class="line">      padding: 0</span><br><span class="line">    &#125;&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;div class=&quot;container&quot; ref=&quot;target&quot;&gt;s2&lt;/div&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  height: 782px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>


</li>
<li><p>创建 <code>src/views/chart/components/table-sheet/components/sheet-label.vue</code> 作为大区渲染组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card</span><br><span class="line">    :body-style=&quot;&#123;</span><br><span class="line">      padding: 0</span><br><span class="line">    &#125;&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;sheet-label&lt;/div&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  height: 112px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>


</li>
<li><p>在 <code>src/views/chart/components/table-sheet/index.vue</code> 中，渲染对应结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-row :gutter=&quot;20&quot;&gt;</span><br><span class="line">    &lt;el-col :span=&quot;18&quot;&gt;</span><br><span class="line">      &lt;s2Vue /&gt;</span><br><span class="line">    &lt;/el-col&gt;</span><br><span class="line">    &lt;el-col :span=&quot;6&quot;&gt;</span><br><span class="line">      &lt;sheetLabelVue v-for=&quot;item in 6&quot; :key=&quot;item&quot; class=&quot;mb-20&quot; /&gt;</span><br><span class="line">    &lt;/el-col&gt;</span><br><span class="line">  &lt;/el-row&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import s2Vue from &#x27;./components/s2.vue&#x27;</span><br><span class="line">import sheetLabelVue from &#x27;./components/sheet-label.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.mb-20 &#123;</span><br><span class="line">  margin-bottom: 20px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，渲染出基本的结构模块。</p>
<h2 id="22：大区营销数据分析-渲染大区结构视图"><a href="#22：大区营销数据分析-渲染大区结构视图" class="headerlink" title="22：大区营销数据分析-渲染大区结构视图"></a>22：大区营销数据分析-渲染大区结构视图</h2><p>本小节我们来渲染右侧大区结构视图。</p>
<ol>
<li><p>在 <code>src/api/chart.js</code> 中定义大区数据获取接口：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 大区数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getChartRegions</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/chart/regions&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/table-sheet/index.vue</code> 中获取数据，渲染视图：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getChartRegions &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/chart&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; watchSwitchLang &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/i18n&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取大区数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> regionsData = <span class="title function_">ref</span>([])</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getChartRegionsData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; regions &#125; = <span class="keyword">await</span> <span class="title function_">getChartRegions</span>()</span><br><span class="line">  regionsData.<span class="property">value</span> = regions</span><br><span class="line">  <span class="comment">// TODO：获取该大区对应的数据</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getChartRegionsData</span>()</span><br><span class="line"><span class="comment">// 切换语言，数据重新获取</span></span><br><span class="line"><span class="title function_">watchSwitchLang</span>(getChartRegionsData)</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sheetLabelVue</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:data</span>=<span class="string">&quot;item&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-for</span>=<span class="string">&quot;item in regionsData&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;mb-20&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/table-sheet/components/sheet-label.vue</code> 中渲染数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-card</span><br><span class="line">    class=&quot;mb-20&quot;</span><br><span class="line">    :body-style=&quot;&#123;</span><br><span class="line">      padding: 0</span><br><span class="line">    &#125;&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">      &lt;p class=&quot;title&quot;&gt;&#123;&#123; data.title &#125;&#125;&lt;/p&gt;</span><br><span class="line">      &lt;div class=&quot;desc&quot;&gt;</span><br><span class="line">        &lt;span&gt;&#123;&#123; $t(&#x27;msg.chart.tadayReceivable&#x27;) &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;p class=&quot;profit&quot;&gt;</span><br><span class="line">          &amp;yen; &#123;&#123; data.receivable &#125;&#125;</span><br><span class="line">          &lt;span class=&quot;unit&quot;&gt;（&#123;&#123; $t(&#x27;msg.chart.unit&#x27;) &#125;&#125;）&lt;/span&gt;</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;desc&quot;&gt;</span><br><span class="line">        &lt;span&gt;&#123;&#123; $t(&#x27;msg.chart.tadayBalance&#x27;) &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;p :class=&quot;data.balance &gt; 0 ? &#x27;profit&#x27; : &#x27;loss&#x27;&quot;&gt;</span><br><span class="line">          &amp;yen; &#123;&#123; data.balance &#125;&#125;</span><br><span class="line">          &lt;span class=&quot;unit&quot;&gt;（&#123;&#123; $t(&#x27;msg.chart.unit&#x27;) &#125;&#125;）&lt;/span&gt;</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; defineProps &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">defineProps(&#123;</span><br><span class="line">  // 数据源</span><br><span class="line">  data: &#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    required: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.container &#123;</span><br><span class="line">  padding: 20px;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">  background-color: #f2f3f9;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  .title &#123;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    margin-bottom: 8px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .desc &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    margin-top: 6px;</span><br><span class="line">    color: #999;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-between;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .unit &#123;</span><br><span class="line">    color: #999;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .profit &#123;</span><br><span class="line">    color: #649840;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .loss &#123;</span><br><span class="line">    color: #b65d59;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>基本视图渲染完成</p>
</li>
<li><p>接下来处理高亮点击行为</p>
</li>
<li><p>在 <code>src/views/chart/components/table-sheet/components/sheet-label.vue</code> 中定义：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">defineProps</span>(&#123;</span><br><span class="line">  <span class="comment">// 是否被选中</span></span><br><span class="line">  <span class="attr">isSelected</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="title class_">Boolean</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container &quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; selected: isSelected &#125;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.selected</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">6px</span> solid <span class="number">#5172e9</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/table-sheet/index.vue</code> 中，定义选中数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  ...</span><br><span class="line">      &lt;sheetLabelVue</span><br><span class="line">        :isSelected=&quot;currentRegionsIndex === index&quot;</span><br><span class="line">        @click=&quot;onChangeRegion(index)&quot;</span><br><span class="line">        ...</span><br><span class="line">      /&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">...</span><br><span class="line">/**</span><br><span class="line"> * 获取大区数据</span><br><span class="line"> */</span><br><span class="line">const currentRegionsIndex = ref(0)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 切换大区</span><br><span class="line"> */</span><br><span class="line">const onChangeRegion = (index) =&gt; &#123;</span><br><span class="line">  currentRegionsIndex.value = index</span><br><span class="line">  // TODO：获取该大区对应的数据</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，大区结构视图渲染完成。</p>
<h2 id="23：大区营销数据分析-基于-AntV-S2-构建表格数据可视化"><a href="#23：大区营销数据分析-基于-AntV-S2-构建表格数据可视化" class="headerlink" title="23：大区营销数据分析-基于 AntV S2 构建表格数据可视化"></a>23：大区营销数据分析-基于 AntV S2 构建表格数据可视化</h2><p>接下来我们将基于 <a target="_blank" rel="noopener" href="https://s2.antv.vision/zh/examples/gallery">AntV S2 模块</a> 来实现我们的表格数据可视化逻辑。</p>
<ol>
<li><p>首先安装 <code>@antv/s2</code> 到项目中：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save @antv/s2@1.19.0</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>s2</code> 的使用整体分为 6 步：</p>
<ol>
<li>按需导入 <code>TableSheet</code> 模块</li>
<li>创建 <code>DOM</code> 作为渲染的容器，并且需要指定宽高</li>
<li>构建 <a target="_blank" rel="noopener" href="https://s2.antv.vision/zh/docs/api/general/S2DataConfig">S2DataConfig</a> 对象，为表的数据源</li>
<li>构建 <a target="_blank" rel="noopener" href="https://s2.antv.vision/zh/docs/api/general/S2Options">S2Options</a> 对象，为表的配置对象</li>
<li>生成 <a target="_blank" rel="noopener" href="https://s2.antv.vision/zh/docs/manual/basic/sheet-type/table-mode#tablesheet-%E7%B1%BB%E6%96%B9%E5%BC%8F">TableSheet</a> 实例，得到 <code>S2</code></li>
<li>触发 <code>s2.render()</code> 方法，完成表的渲染</li>
</ol>
</li>
<li><p>那么明确好了这 6 步之后，接下来我们就进行一下对应的实现。</p>
</li>
</ol>
<h3 id="基础渲染"><a href="#基础渲染" class="headerlink" title="基础渲染"></a>基础渲染</h3><ol>
<li><p>在 <code>src/api/chart.js</code> 中，定义数据接口：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 表格数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getChartSheet</span> = regionId =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/chart/sheets&#x27;</span>,</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">      regionId</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/table-sheet/index.vue</code> 获取对应数据：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getChartSheet &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/chart&#x27;</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 大区对应的表格数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> sheetData = <span class="title function_">ref</span>([])</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getChartSheetData</span> = <span class="keyword">async</span> id =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">getChartSheet</span>(id)</span><br><span class="line">  sheetData.<span class="property">value</span> = res</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getChartSheetData</span>()</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/table-sheet/components/s2.vue</code> 中定义 <code>props</code> 接收数据：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> props = <span class="title function_">defineProps</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="title class_">Array</span>,</span><br><span class="line">    <span class="attr">required</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/table-sheet/index.vue</code> 中传递数据：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">s2Vue</span> <span class="attr">:data</span>=<span class="string">&quot;sheetData&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/table-sheet/components/s2.vue</code> 中获取指定 <code>DOM</code>，并生成 <code>s2</code> 实例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref, watch, defineProps, onMounted &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123; TableSheet &#125; from &#x27;@antv/s2&#x27;</span><br><span class="line">import &#123; useI18n &#125; from &#x27;vue-i18n&#x27;</span><br><span class="line"></span><br><span class="line">const i18n = useI18n()</span><br><span class="line"></span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    type: Array,</span><br><span class="line">    required: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const target = ref(null)</span><br><span class="line">let s2 = null</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  // 数据对象</span><br><span class="line">  const s2DataCfg = &#123;</span><br><span class="line">    fields: &#123;</span><br><span class="line">      columns: [</span><br><span class="line">        &#x27;province&#x27;,</span><br><span class="line">        &#x27;city&#x27;,</span><br><span class="line">        &#x27;coverage&#x27;,</span><br><span class="line">        &#x27;receivable&#x27;,</span><br><span class="line">        &#x27;actual&#x27;,</span><br><span class="line">        &#x27;balance&#x27;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    meta: [</span><br><span class="line">      // 列头字段对应的元信息，比如展示的中文名</span><br><span class="line">      &#123;</span><br><span class="line">        field: &#x27;province&#x27;,</span><br><span class="line">        name: i18n.t(&#x27;msg.chart.sheetProvince&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        field: &#x27;city&#x27;,</span><br><span class="line">        name: i18n.t(&#x27;msg.chart.sheetCity&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        field: &#x27;coverage&#x27;,</span><br><span class="line">        name: i18n.t(&#x27;msg.chart.sheetCoverage&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        field: &#x27;receivable&#x27;,</span><br><span class="line">        name: i18n.t(&#x27;msg.chart.sheetReceivable&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        field: &#x27;actual&#x27;,</span><br><span class="line">        name: i18n.t(&#x27;msg.chart.sheetActual&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        field: &#x27;balance&#x27;,</span><br><span class="line">        name: i18n.t(&#x27;msg.chart.sheetBalance&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    data: props.data</span><br><span class="line">  &#125;</span><br><span class="line">  // 配置对象</span><br><span class="line">  const s2Options = &#123;</span><br><span class="line">    // 宽度：必须为准确的像素</span><br><span class="line">    width: target.value.clientWidth,</span><br><span class="line">    // 高度：必须为准确的像素</span><br><span class="line">    height: target.value.clientHeight,</span><br><span class="line">    // 是否显示行序号</span><br><span class="line">    showSeriesNumber: true,</span><br><span class="line">    // 条件模式配置</span><br><span class="line">    conditions: &#123;</span><br><span class="line">      // 背景字段标记</span><br><span class="line">      background: [</span><br><span class="line">        &#123;</span><br><span class="line">          // 设置背景的字段</span><br><span class="line">          field: &#x27;balance&#x27;,</span><br><span class="line">          // 映射函数</span><br><span class="line">          mapping(fieldValue) &#123;</span><br><span class="line">            console.log(fieldValue)</span><br><span class="line">            return &#123;</span><br><span class="line">              fill: fieldValue &gt; 0 ? &#x27;#f3fff3&#x27; : &#x27;#ffe7e7&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 生成 S2 实例</span><br><span class="line">  s2 = new TableSheet(target.value, s2DataCfg, s2Options)</span><br><span class="line">  // 渲染视图</span><br><span class="line">  s2.render(true)</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此基础表格渲染成功</p>
<h2 id="24：大区营销数据分析-表格图谱与大区联动"><a href="#24：大区营销数据分析-表格图谱与大区联动" class="headerlink" title="24：大区营销数据分析-表格图谱与大区联动"></a>24：大区营销数据分析-表格图谱与大区联动</h2><p>当表格渲染成功之后，下面我们要处理表格和大区的联动，我们期望，当切换不同大区时，表格的数据可以切换展示。</p>
<ol>
<li><p>在大区数据获取完成后，触发 <code>getChartSheetData</code> 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">getChartRegionsData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// TODO：获取该大区对应的数据</span></span><br><span class="line">  <span class="title function_">getChartSheetData</span>(regionsData.<span class="property">value</span>[<span class="number">0</span>].<span class="property">id</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>onChangeRegion</code> 切换大区时，重新触发 <code>getChartSheetData</code> 方法：</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 切换大区</span><br><span class="line"> */</span><br><span class="line">const onChangeRegion = (index) =&gt; &#123;</span><br><span class="line">  currentRegionsIndex.value = index</span><br><span class="line">  // TODO：获取该大区对应的数据</span><br><span class="line"><span class="addition">+  getChartSheetData(regionsData.value[index].id)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <code>src/views/chart/components/table-sheet/components/s2.vue</code> 中，监听 <code>data</code> 的变化，触发 <code>render</code> 函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 配置对象</span></span><br><span class="line">  <span class="keyword">const</span> s2Options = &#123;</span><br><span class="line">   ...</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 生成 S2 实例，数据对象置为 null</span></span><br><span class="line">  s2 = <span class="keyword">new</span> <span class="title class_">TableSheet</span>(target.<span class="property">value</span>, &#123;&#125;, s2Options)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 图标渲染函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">renderChart</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 数据对象</span></span><br><span class="line">  <span class="keyword">const</span> s2DataCfg = &#123;</span><br><span class="line">   ...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 更新数据</span></span><br><span class="line">  s2.<span class="title function_">setDataCfg</span>(s2DataCfg)</span><br><span class="line">  <span class="comment">// 渲染视图，传入 true 表示数据发生了更新</span></span><br><span class="line">  s2.<span class="title function_">render</span>(<span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 监听数据变化</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">watch</span>(</span><br><span class="line">  <span class="function">() =&gt;</span> props.<span class="property">data</span>,</span><br><span class="line">  <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">renderChart</span>()</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>此时，表格与大区联动完成。</p>
</li>
<li><p>最后处理下国际化内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 监听语言变化</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">watchSwitchLang</span>(renderChart)</span><br></pre></td></tr></table></figure></li>
</ol>
<p>至此，基于 <code>S2</code> 的大区营销数据分析图表渲染完成。</p>
<h2 id="25：总结"><a href="#25：总结" class="headerlink" title="25：总结"></a>25：总结</h2><p>那么到这里咱们的整个的 <strong>数据可视化</strong> 加餐模块就已经全部讲解完成了。</p>
<p>新增的加餐内容，并没有提供 <strong>大屏可视化</strong> 的对应内容，因为就像我们之前所说的 <strong>大屏可视化</strong> 主要以单独的项目进行展示，并不适合集成到后台解决方案之中。另外，也是最重要的一点：<strong>大屏可视化与数据可视化在解决方案中，并没有本质的区别。</strong></p>
<p>好，那么祝大家学习愉快，我是 <code>Sunday</code>，咱们下次再见！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/%E5%8D%87%E7%BA%A7%E4%B8%BA%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%E7%9A%84%E6%9B%B4%E6%96%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/%E5%8D%87%E7%BA%A7%E4%B8%BA%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%E7%9A%84%E6%9B%B4%E6%96%B0/" itemprop="url">升级为最新版本的更新</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:48:49+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%EF%BC%9A%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B9%8B%E9%80%9A%E7%94%A8%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%EF%BC%9A%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B9%8B%E9%80%9A%E7%94%A8%E6%96%B9%E6%A1%88/" itemprop="url">第十一章：项目部署之通用方案</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:48:20+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/%E7%AC%AC%E5%8D%81%E7%AB%A0%EF%BC%9A%E5%AF%8C%E6%96%87%E6%9C%AC%E4%B8%8Emarkdown%E7%BB%BC%E5%90%88%E5%A4%84%E7%90%86%E4%B9%8B%E5%88%9B%E5%BB%BA%E6%96%87%E7%AB%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/%E7%AC%AC%E5%8D%81%E7%AB%A0%EF%BC%9A%E5%AF%8C%E6%96%87%E6%9C%AC%E4%B8%8Emarkdown%E7%BB%BC%E5%90%88%E5%A4%84%E7%90%86%E4%B9%8B%E5%88%9B%E5%BB%BA%E6%96%87%E7%AB%A0/" itemprop="url">第十章：富文本与markdown综合处理之创建文章</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:48:09+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/%E7%AC%AC%E4%B9%9D%E7%AB%A0%EF%BC%9A%E5%8A%A8%E6%80%81%E8%A1%A8%E6%A0%BC%E6%B8%B2%E6%9F%93%E6%96%B9%E6%A1%88%E4%B9%8B%E6%96%87%E7%AB%A0%E6%8E%92%E5%90%8D%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/%E7%AC%AC%E4%B9%9D%E7%AB%A0%EF%BC%9A%E5%8A%A8%E6%80%81%E8%A1%A8%E6%A0%BC%E6%B8%B2%E6%9F%93%E6%96%B9%E6%A1%88%E4%B9%8B%E6%96%87%E7%AB%A0%E6%8E%92%E5%90%8D%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0/" itemprop="url">第九章：动态表格渲染方案之文章排名业务实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:47:55+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B9%8B%E5%88%86%E7%BA%A7%E5%88%86%E6%8E%A7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B9%8B%E5%88%86%E7%BA%A7%E5%88%86%E6%8E%A7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/" itemprop="url">第八章：权限控制解决方案之分级分控权限管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:47:32+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/%E7%AC%AC%E4%B8%83%E7%AB%A0%EF%BC%9A%E6%9D%83%E9%99%90%E6%9E%B6%E6%9E%84%E5%A4%84%E7%90%86%E4%B9%8B%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/%E7%AC%AC%E4%B8%83%E7%AB%A0%EF%BC%9A%E6%9D%83%E9%99%90%E6%9E%B6%E6%9E%84%E5%A4%84%E7%90%86%E4%B9%8B%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E5%A4%84%E7%90%86/" itemprop="url">第七章：权限架构处理之用户权限处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:47:22+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9Avue3-ElementPlus%E7%BB%BC%E5%90%88%E5%AE%9E%E7%8E%B0%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9Avue3-ElementPlus%E7%BB%BC%E5%90%88%E5%AE%9E%E7%8E%B0%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" itemprop="url">第六章：vue3+ElementPlus综合实现解决方案</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:47:09+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9A%E5%90%8E%E5%8F%B0%E9%A1%B9%E7%9B%AE%E5%89%8D%E7%AB%AF%E7%BB%BC%E5%90%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B9%8B%E9%80%9A%E7%94%A8%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9A%E5%90%8E%E5%8F%B0%E9%A1%B9%E7%9B%AE%E5%89%8D%E7%AB%AF%E7%BB%BC%E5%90%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B9%8B%E9%80%9A%E7%94%A8%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91/" itemprop="url">第五章：后台项目前端综合解决方案之通用功能开发</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:46:42+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/10/07/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B8%8E%E5%AE%9E%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="哎亚亚的小墙">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/10/07/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B8%8E%E5%AE%9E%E7%8E%B0/" itemprop="url">第四章：项目架构之搭建layout架构解决方案与实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-10-07T22:46:26+08:00">
                2024-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">后台管理系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          


          










          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article</span>
                
                <span title="Words count in article">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="" />
          <p class="site-author-name" itemprop="name"></p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/pageFile/index.html">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">哎亚亚</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
</div>






<div class="theme-info">
  Theme -
  <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Gemini
  </a>
</div>


<div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv" style='display:none'>
    本站总访问量 <span id="busuanzi_value_site_pv"></span> 次
    <span class="post-meta-divider">|</span>
</span>
<span id="busuanzi_container_site_uv" style='display:none'>
    有<span id="busuanzi_value_site_uv"></span>人看过我的博客啦
</span>
</div>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共19.4k字</span>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
